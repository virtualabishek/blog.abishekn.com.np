"use strict";(self.webpackChunkblog_site=self.webpackChunkblog_site||[]).push([[4931],{2969:e=>{e.exports=JSON.parse('{"permalink":"/blog/database-comparision","source":"@site/blog/2025-08-13-database-comparision.md","title":"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server","description":"I explored different database and compared with each other. I also tested PostgreSQL for its size and time for the 100000 tuples","date":"2025-08-13T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"Linux","permalink":"/blog/tags/blog/tags/linux","description":"Linux-related posts and tutorials."},{"inline":false,"label":"Development","permalink":"/blog/tags/blog/tags/development","description":"Software development practices and experiences."}],"readingTime":9.3,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"database-comparision","title":"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server","authors":["virtualabishek"],"date":"2025-08-13","description":"I explored different database and compared with each other. I also tested PostgreSQL for its size and time for the 100000 tuples","tags":["technical","linux","development"]},"unlisted":false,"prevItem":{"title":"Understanding Transactions and Locking in PostgreSQL","permalink":"/blog/postgresql-transactions-locking"},"nextItem":{"title":"Village Realities: A Four-Day Revelation","permalink":"/blog/village-realities-four-day-revelation"}}')},6776:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var i=n(2969),t=n(4848),r=n(8453);const a={slug:"database-comparision",title:"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server",authors:["virtualabishek"],date:"2025-08-13",description:"I explored different database and compared with each other. I also tested PostgreSQL for its size and time for the 100000 tuples",tags:["technical","linux","development"]},l="Database Comparison and Accounting System for Nepali Context",o={authorsImageUrls:[void 0]},d=[{value:"Why This Project?",id:"why-this-project",level:2},{value:"Database Comparison",id:"database-comparison",level:2},{value:"PostgreSQL",id:"postgresql",level:3},{value:"MySQL (Community)",id:"mysql-community",level:3},{value:"MS SQL Server",id:"ms-sql-server",level:3},{value:"Oracle",id:"oracle",level:3},{value:"Accounting System Database Design",id:"accounting-system-database-design",level:2},{value:"Schema Overview",id:"schema-overview",level:3},{value:"Transactions Table",id:"transactions-table",level:4},{value:"Students Table",id:"students-table",level:4},{value:"Invoices Table",id:"invoices-table",level:4},{value:"Invoice Line Items Table",id:"invoice-line-items-table",level:4},{value:"Storage Estimation",id:"storage-estimation",level:3},{value:"Transactions Table",id:"transactions-table-1",level:4},{value:"Students Table",id:"students-table-1",level:4},{value:"Invoices Table",id:"invoices-table-1",level:4},{value:"Invoice Line Items Table",id:"invoice-line-items-table-1",level:4},{value:"Total Storage",id:"total-storage",level:4},{value:"Scalability Notes",id:"scalability-notes",level:3},{value:"Generating and Loading Data with Python",id:"generating-and-loading-data-with-python",level:2},{value:"Python Script for Data Generation",id:"python-script-for-data-generation",level:3},{value:"Loading Data into PostgreSQL",id:"loading-data-into-postgresql",level:3},{value:"Lessons Learned",id:"lessons-learned",level:3},{value:"Why PostgreSQL for This Project?",id:"why-postgresql-for-this-project",level:2},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"Example Queries",id:"example-queries",level:2},{value:"Future Improvements",id:"future-improvements",level:2},{value:"Final Note",id:"final-note",level:2}];function c(e){const s={code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"This project explores database options for small to medium-sized enterprises (SMEs), startups, and academic projects in Nepal, with a focus on building a scalable accounting system. I\u2019ve compared popular databases and implemented an accounting system using PostgreSQL, including a Python script to generate and load 10,000 transaction records. This is tailored for contexts like ABC Warehouse, where I study, to estimate storage and performance needs."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"why-this-project",children:"Why This Project?"}),"\n",(0,t.jsx)(s.p,{children:"In Nepal, startups, colleges, and SMEs need cost-effective, scalable databases for applications like accounting systems. I\u2019ve compared PostgreSQL, MySQL, MS SQL Server, and Oracle, and built a practical accounting system with storage estimates and performance tests. PostgreSQL is my top choice due to its power, flexibility, and zero licensing cost, perfect for Nepali use cases."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"database-comparison",children:"Database Comparison"}),"\n",(0,t.jsx)(s.p,{children:"Here\u2019s a friendly breakdown of the databases I considered, with pros, cons, and use cases for Nepali users:"}),"\n",(0,t.jsx)(s.h3,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u201cThe modern, feature-rich open-source option \u2014 great for new, technically-savvy teams.\u201d"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Pros"}),":","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"No licensing cost, ideal for startups and colleges."}),"\n",(0,t.jsx)(s.li,{children:"Advanced SQL features (window functions, CTEs, partitioning)."}),"\n",(0,t.jsx)(s.li,{children:"JSONB for flexible schemas (SQL + NoSQL)."}),"\n",(0,t.jsx)(s.li,{children:"PostGIS for geospatial apps (e.g., nearest hospital or delivery routing)."}),"\n",(0,t.jsx)(s.li,{children:"Strong concurrency with MVCC (Multi-Version Concurrency Control) for heavy read/write apps."}),"\n",(0,t.jsx)(s.li,{children:"Easy to deploy on VPS or managed services (AWS RDS, DigitalOcean, Aiven)."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Cons"}),": Slightly steeper learning curve than MySQL for admin tasks; less common in some regulated industries (e.g., finance/healthcare)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use When"}),": You want power without cost, especially for modern web apps, analytics, or geospatial projects."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"mysql-community",children:"MySQL (Community)"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u201cSimple, common, and cheap \u2014 great for small or legacy web apps.\u201d"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Pros"}),": Easy to find cheap hosting; widely used in PHP-based apps (LAMP stack)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Cons"}),": Fewer advanced features compared to PostgreSQL or Oracle; often limited to simpler or legacy systems."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use When"}),": You\u2019re on shared hosting or building simple PHP-based apps with minimal cost."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"ms-sql-server",children:"MS SQL Server"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u201cThe comfortable, enterprise choice for Windows/.NET shops.\u201d"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Pros"}),": Easy to learn, great GUI tools (SSMS), automation-friendly, common in business settings."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Cons"}),": Expensive licensing for large deployments (Express edition is free for small projects); often tied to Windows Server costs."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use When"}),": Your organization uses the Microsoft stack or needs fast onboarding for DBAs."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"oracle",children:"Oracle"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"\u201cThe power tool \u2014 huge feature set and top pay, but steep learning and cost.\u201d"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Pros"}),": Extremely powerful for large, mission-critical systems; top-tier enterprise features."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Cons"}),": Expensive and complex licensing; steep learning curve; often requires dedicated DBAs."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use When"}),": Large enterprises (banks, telecoms, ERP systems) with big budgets and existing Oracle setups."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Recommendation for Nepali Context"}),": I recommend ",(0,t.jsx)(s.strong,{children:"PostgreSQL"})," for most startups, colleges, and SMEs due to its power, flexibility, and no licensing cost. Use MySQL for cheap hosting or legacy PHP apps, MS SQL Server for Microsoft-heavy environments, and Oracle only for large enterprise needs."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"accounting-system-database-design",children:"Accounting System Database Design"}),"\n",(0,t.jsxs)(s.p,{children:["I designed a simple accounting system for a college like ABC Warehouse, focusing on scalability and performance. The system tracks ",(0,t.jsx)(s.strong,{children:"transactions"}),", ",(0,t.jsx)(s.strong,{children:"students"}),", ",(0,t.jsx)(s.strong,{children:"invoices"}),", and ",(0,t.jsx)(s.strong,{children:"invoice line items"}),". Below is the schema and storage estimation."]}),"\n",(0,t.jsx)(s.h3,{id:"schema-overview",children:"Schema Overview"}),"\n",(0,t.jsx)(s.h4,{id:"transactions-table",children:"Transactions Table"}),"\n",(0,t.jsx)(s.p,{children:"Stores journal entries for accounting (e.g., date, particulars, credit, debit)."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE TABLE transactions (\n    id SERIAL PRIMARY KEY,\n    date DATE NOT NULL,\n    particulars VARCHAR(200) NOT NULL,\n    credit NUMERIC(12,2) DEFAULT 0,\n    debit NUMERIC(12,2) DEFAULT 0,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n"})}),"\n",(0,t.jsx)(s.h4,{id:"students-table",children:"Students Table"}),"\n",(0,t.jsx)(s.p,{children:"Stores student information for invoicing."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE TABLE students (\n    student_id SERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    email TEXT,\n    phone VARCHAR(15),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n"})}),"\n",(0,t.jsx)(s.h4,{id:"invoices-table",children:"Invoices Table"}),"\n",(0,t.jsx)(s.p,{children:"Tracks invoices issued to students."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE TABLE invoices (\n    invoice_id SERIAL PRIMARY KEY,\n    student_id INT REFERENCES students(student_id),\n    issue_date DATE NOT NULL,\n    due_date DATE NOT NULL,\n    total_amount NUMERIC(12,2) NOT NULL,\n    paid_amount NUMERIC(12,2) DEFAULT 0,\n    balance_due NUMERIC(12,2) GENERATED ALWAYS AS (total_amount - paid_amount) STORED,\n    status VARCHAR(20) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n"})}),"\n",(0,t.jsx)(s.h4,{id:"invoice-line-items-table",children:"Invoice Line Items Table"}),"\n",(0,t.jsx)(s.p,{children:"Details items in each invoice (e.g., tuition fees, lab fees)."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"CREATE TABLE invoice_line_items (\n    line_id SERIAL PRIMARY KEY,\n    invoice_id INT REFERENCES invoices(invoice_id),\n    item_name VARCHAR(50) NOT NULL,\n    description TEXT,\n    quantity INT NOT NULL,\n    unit_price NUMERIC(12,2) NOT NULL,\n    amount NUMERIC(12,2) GENERATED ALWAYS AS (quantity * unit_price) STORED,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n"})}),"\n",(0,t.jsx)(s.h3,{id:"storage-estimation",children:"Storage Estimation"}),"\n",(0,t.jsxs)(s.p,{children:["I estimated storage needs for the accounting system based on ",(0,t.jsx)(s.strong,{children:"10 transactions/day"}),", ",(0,t.jsx)(s.strong,{children:"10 students/day"}),", and ",(0,t.jsx)(s.strong,{children:"10 invoices/day"})," with ",(0,t.jsx)(s.strong,{children:"3 line items per invoice"}),". Here\u2019s the breakdown:"]}),"\n",(0,t.jsx)(s.h4,{id:"transactions-table-1",children:"Transactions Table"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Fields"}),": id (4 bytes), date (4 bytes), particulars (200 bytes), credit (8 bytes), debit (8 bytes), created_at (8 bytes), updated_at (8 bytes)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Total per row"}),": 236 bytes + 27 bytes (PostgreSQL overhead) \u2248 ",(0,t.jsx)(s.strong,{children:"263 bytes"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Daily"}),": 10 transactions \xd7 263 bytes = ",(0,t.jsx)(s.strong,{children:"2.57 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Monthly"}),": 30 days \xd7 2.57 KB \u2248 ",(0,t.jsx)(s.strong,{children:"77.1 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Yearly"}),": 360 days \xd7 2.57 KB \u2248 ",(0,t.jsx)(s.strong,{children:"925 KB"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"students-table-1",children:"Students Table"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Fields"}),": student_id (4 bytes), name (100 bytes), email (50 bytes), phone (15 bytes), created_at (8 bytes), updated_at (8 bytes)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Total per row"}),": 185 bytes + 27 bytes (overhead) \u2248 ",(0,t.jsx)(s.strong,{children:"212 bytes"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Daily"}),": 10 students \xd7 212 bytes \u2248 ",(0,t.jsx)(s.strong,{children:"2.07 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Monthly"}),": 30 days \xd7 2.07 KB \u2248 ",(0,t.jsx)(s.strong,{children:"62.1 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Yearly"}),": 360 days \xd7 2.07 KB \u2248 ",(0,t.jsx)(s.strong,{children:"746 KB"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"invoices-table-1",children:"Invoices Table"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Fields"}),": invoice_id (4 bytes), student_id (4 bytes), issue_date (4 bytes), due_date (4 bytes), total_amount (8 bytes), paid_amount (8 bytes), balance_due (8 bytes), status (20 bytes), created_at (8 bytes), updated_at (8 bytes)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Total per row"}),": 76 bytes + 23 bytes (overhead) \u2248 ",(0,t.jsx)(s.strong,{children:"99 bytes"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Daily"}),": 10 invoices \xd7 99 bytes \u2248 ",(0,t.jsx)(s.strong,{children:"0.97 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Monthly"}),": 30 days \xd7 0.97 KB \u2248 ",(0,t.jsx)(s.strong,{children:"29.1 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Yearly"}),": 360 days \xd7 0.97 KB \u2248 ",(0,t.jsx)(s.strong,{children:"349 KB"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"invoice-line-items-table-1",children:"Invoice Line Items Table"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Fields"}),": line_id (4 bytes), invoice_id (4 bytes), item_name (50 bytes), description (200 bytes), quantity (4 bytes), unit_price (8 bytes), amount (8 bytes), created_at (8 bytes), updated_at (8 bytes)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Total per row"}),": 294 bytes + 27 bytes (overhead) \u2248 ",(0,t.jsx)(s.strong,{children:"321 bytes"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Daily"}),": 10 invoices \xd7 3 line items \xd7 321 bytes \u2248 ",(0,t.jsx)(s.strong,{children:"9.4 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Monthly"}),": 30 days \xd7 9.4 KB \u2248 ",(0,t.jsx)(s.strong,{children:"282 KB"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Yearly"}),": 360 days \xd7 9.4 KB \u2248 ",(0,t.jsx)(s.strong,{children:"3.38 MB"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"total-storage",children:"Total Storage"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Daily"}),": 2.57 KB (transactions) + 2.07 KB (students) + 0.97 KB (invoices) + 9.4 KB (line items) \u2248 ",(0,t.jsx)(s.strong,{children:"12.44 KB/day"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Monthly"}),": 12.44 KB \xd7 30 \u2248 ",(0,t.jsx)(s.strong,{children:"373 KB/month"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Yearly"}),": 12.44 KB \xd7 360 \u2248 ",(0,t.jsx)(s.strong,{children:"4.48 MB/year"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"scalability-notes",children:"Scalability Notes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"PostgreSQL\u2019s MVCC"}),": Handles high concurrency without locking, ideal for heavy read/write workloads (e.g., frequent transactions at a college)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Storage Growth"}),": Even with 360 transactions/year, the database size remains small (~4.48 MB/year), easily manageable on a VPS or managed service."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Performance"}),": Importing 100,000 transactions took ~204 ms, showing PostgreSQL\u2019s efficiency for moderate workloads."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Balance Sheet Queries"}),": Use SQL aggregates (e.g., ",(0,t.jsx)(s.code,{children:"SUM(credit)"}),", ",(0,t.jsx)(s.code,{children:"SUM(debit)"}),") to generate balance sheets or trial balances."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"generating-and-loading-data-with-python",children:"Generating and Loading Data with Python"}),"\n",(0,t.jsxs)(s.p,{children:["To test the system\u2019s performance, I wrote a Python script to generate 10,000 transaction records and load them into the ",(0,t.jsx)(s.code,{children:"transactions"})," table. The script creates a tab-delimited CSV file (",(0,t.jsx)(s.code,{children:"transactions.txt"}),") and uses PostgreSQL\u2019s ",(0,t.jsx)(s.code,{children:"\\copy"})," command to import the data efficiently."]}),"\n",(0,t.jsx)(s.h3,{id:"python-script-for-data-generation",children:"Python Script for Data Generation"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"import csv\nimport random\nfrom datetime import datetime, timedelta\n\n# Generate 10,000 transaction records\nnum_records = 10000\nstart_date = datetime(2025, 1, 1)\nparticulars_list = [\"Tuition Fee\", \"Lab Fee\", \"Library Fee\", \"Exam Fee\", \"Miscellaneous\"]\n\nwith open('/tmp/transactions.txt', 'w', newline='') as f:\n    writer = csv.writer(f, delimiter='\\t')\n    writer.writerow(['date', 'particulars', 'credit', 'debit'])  # CSV header\n    for i in range(num_records):\n        date = (start_date + timedelta(days=random.randint(0, 365))).strftime('%Y-%m-%d')\n        particulars = random.choice(particulars_list)\n        credit = round(random.uniform(0, 5000), 2) if random.random() > 0.5 else 0\n        debit = round(random.uniform(0, 5000), 2) if credit == 0 else 0\n        writer.writerow([date, particulars, credit, debit])\n\nprint(f\"Generated {num_records} transaction records in /tmp/transactions.txt\")\n"})}),"\n",(0,t.jsx)(s.h3,{id:"loading-data-into-postgresql",children:"Loading Data into PostgreSQL"}),"\n",(0,t.jsxs)(s.p,{children:["I ran into some permission issues when trying to load the data initially (e.g., ",(0,t.jsx)(s.code,{children:"Permission denied"})," for ",(0,t.jsx)(s.code,{children:"/home/virtualabishek/Desktop/code/learning/postgres-notes/transactions.txt"}),"). To fix this, I moved the file to ",(0,t.jsx)(s.code,{children:"/tmp/"})," and used the ",(0,t.jsx)(s.code,{children:"\\copy"})," command, which is client-side and avoids server permission issues:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"\\copy transactions(date, particulars, credit, debit) FROM '/tmp/transactions.txt' DELIMITER E'\\t' CSV HEADER;\n"})}),"\n",(0,t.jsx)(s.p,{children:"This successfully loaded 100,000 records (I tested with a larger dataset to stress-test), taking ~204 ms, as shown in my terminal output:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"COPY 100000\nTime: 204.345 ms\n"})}),"\n",(0,t.jsx)(s.h3,{id:"lessons-learned",children:"Lessons Learned"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"COPY vs. \\copy"}),": I initially tried ",(0,t.jsx)(s.code,{children:"COPY"}),", but got a ",(0,t.jsx)(s.code,{children:"Permission denied"})," error because it runs server-side. Switching to ",(0,t.jsx)(s.code,{children:"\\copy"})," resolved this."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"File Permissions"}),": Moving the file to ",(0,t.jsx)(s.code,{children:"/tmp/"})," avoided permission issues, as ",(0,t.jsx)(s.code,{children:"/tmp/"})," is accessible to the PostgreSQL client."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Performance"}),": Loading 100,000 records in ~204 ms shows PostgreSQL\u2019s efficiency for bulk imports."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"why-postgresql-for-this-project",children:"Why PostgreSQL for This Project?"}),"\n",(0,t.jsx)(s.p,{children:"I chose PostgreSQL because:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"No License Cost"}),": Perfect for budget-conscious Nepali startups and colleges."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Rich Data Types"}),": Supports JSONB for flexible schemas, GEOMETRY for geospatial queries (e.g., campus mapping), and NUMERIC for precise accounting."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Concurrency"}),": MVCC ensures readers and writers don\u2019t block each other, ideal for busy systems."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Extensibility"}),": PostGIS for geospatial apps, full-text search, and more."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Deployment"}),": Easy to run on a VPS or use managed providers (AWS RDS, Aiven)."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Install PostgreSQL"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["On Ubuntu: ",(0,t.jsx)(s.code,{children:"sudo apt update && sudo apt install postgresql postgresql-contrib"})]}),"\n",(0,t.jsxs)(s.li,{children:["Verify: ",(0,t.jsx)(s.code,{children:"psql --version"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Create Database"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"sudo -u postgres createdb accountdb\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Set Up Tables"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Connect: ",(0,t.jsx)(s.code,{children:"psql -d accountdb"})]}),"\n",(0,t.jsxs)(s.li,{children:["Run the ",(0,t.jsx)(s.code,{children:"CREATE TABLE"})," statements above for ",(0,t.jsx)(s.code,{children:"transactions"}),", ",(0,t.jsx)(s.code,{children:"students"}),", ",(0,t.jsx)(s.code,{children:"invoices"}),", and ",(0,t.jsx)(s.code,{children:"invoice_line_items"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Generate Data"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Run the Python script above to create ",(0,t.jsx)(s.code,{children:"/tmp/transactions.txt"})," with 10,000 records."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Import Data"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Import:","\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"psql -d accountdb -c \"\\copy transactions(date, particulars, credit, debit) FROM '/tmp/transactions.txt' DELIMITER E'\\t' CSV HEADER\"\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Check Database Size"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT pg_size_pretty(pg_database_size(current_database()));\n"})}),"\n",(0,t.jsx)(s.p,{children:"My test showed ~18 MB for the database with 100,000 transaction records."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Monitor Performance"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Enable timing: ",(0,t.jsx)(s.code,{children:"\\timing on"})]}),"\n",(0,t.jsx)(s.li,{children:"Run imports or queries to measure execution time (e.g., ~204 ms for 100,000 records)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"example-queries",children:"Example Queries"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"List Transactions"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT * FROM transactions LIMIT 10;\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Calculate Balance Sheet"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT SUM(credit) AS total_credit, SUM(debit) AS total_debit\nFROM transactions\nWHERE date BETWEEN '2025-01-01' AND '2025-12-31';\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Find Unpaid Invoices"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT i.invoice_id, s.name, i.total_amount, i.balance_due\nFROM invoices i\nJOIN students s ON i.student_id = s.student_id\nWHERE i.status = 'UNPAID';\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"future-improvements",children:"Future Improvements"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Add indexes on frequently queried columns (e.g., ",(0,t.jsx)(s.code,{children:"date"}),", ",(0,t.jsx)(s.code,{children:"student_id"}),") for faster searches."]}),"\n",(0,t.jsxs)(s.li,{children:["Implement triggers to auto-update ",(0,t.jsx)(s.code,{children:"updated_at"})," timestamps."]}),"\n",(0,t.jsx)(s.li,{children:"Use JSONB for flexible transaction metadata (e.g., store tax info)."}),"\n",(0,t.jsx)(s.li,{children:"Explore PostGIS for campus-related geospatial queries (e.g., mapping student locations)."}),"\n",(0,t.jsx)(s.li,{children:"Optimize the Python script to generate larger datasets or simulate realistic transaction patterns."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"final-note",children:"Final Note"}),"\n",(0,t.jsx)(s.p,{children:"I built this accounting system to be lightweight (4.48 MB/year for 10 transactions/day), scalable, and cost-effective using PostgreSQL. The Python script made it easy to generate and load 10,000 records, and PostgreSQL\u2019s performance (~204 ms for 100,000 records) proves it\u2019s ready for real-world use. Let\u2019s keep building awesome tech for Nepal!"})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var i=n(6540);const t={},r=i.createContext(t);function a(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);