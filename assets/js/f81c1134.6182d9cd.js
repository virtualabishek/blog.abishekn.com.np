"use strict";(self.webpackChunkblog_site=self.webpackChunkblog_site||[]).push([[8130],{7735:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"esewa-vs-khalti-secure-payment-flow-nepal","metadata":{"permalink":"/blog/esewa-vs-khalti-secure-payment-flow-nepal","source":"@site/blog/2026-01-06-esewa-and-khalti.md","title":"eSewa vs Khalti: how I keep Nepali payments honest","description":" Explore the mostly used online payment gateways of Nepal: Esewa and Khalti and learned that anyone can change the payment amount in the browser. If we rely on that number, someone can buy a Rs 1000 item for Rs 1. Here is how I keep things honest with eSewa and Khalti.","date":"2026-01-06T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"Security","permalink":"/blog/tags/blog/tags/security","description":"Security best practices and concepts."},{"inline":false,"label":"Backend","permalink":"/blog/tags/blog/tags/backend","description":"Backend development posts."},{"inline":false,"label":"Payments","permalink":"/blog/tags/blog/tags/payments","description":"Payment gateways, eSewa, Khalti, and checkout lessons."}],"readingTime":2.26,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"esewa-vs-khalti-secure-payment-flow-nepal","title":"eSewa vs Khalti: how I keep Nepali payments honest","authors":["virtualabishek"],"date":"2026-01-06","description":" Explore the mostly used online payment gateways of Nepal: Esewa and Khalti and learned that anyone can change the payment amount in the browser. If we rely on that number, someone can buy a Rs 1000 item for Rs 1. Here is how I keep things honest with eSewa and Khalti.","tags":["technical","security","backend","payments"]},"unlisted":false,"nextItem":{"title":"Secure Authentication in NestJS E-Commerce: JWT, Access Tokens, and Refresh Tokens Explained","permalink":"/blog/jwt-access-token-refresh-token-in-nestjs-ecommerce"}},"content":"I explored the mostly used online payment gateways of Nepal: Esewa and Khalti and learned that anyone can change the payment amount in the browser. If we rely on that number, someone can buy a Rs 1000 item for Rs 1. Here is how I keep things honest with eSewa and Khalti.\\n\\n## Why the paranoia?\\n\\nBrowsers are editable. Inputs can be changed, scripts can be rerun, URLs can be faked. The only place that should decide whether money actually moved is your backend, not the page.\\n\\n## eSewa: signed forms with HMAC\\n\\n- eSewa V2 gives you a secret key. You build a small string that includes the amount, product id, and that secret, then hash it with HMAC-SHA256.\\n- You post the amount plus that signature to eSewa. On their side, they recompute the same hash. If it matches, the request is legit; if a user tampered with the amount, it fails.\\n- After payment, eSewa redirects back with Base64 encoded JSON. I decode it, recompute the signature with my secret, and only then mark the order as paid. Anything that fails this check is logged and rejected.\\n\\n## Khalti: server-to-server with a pidx\\n\\n- Khalti V2 is more API-first. My backend calls their API with `Authorization: Key <secret>` and the amount in paisa. Khalti responds with a `pidx` and a redirect URL.\\n- The user pays on Khalti. When they come back with `?pidx=...`, I do not trust that alone. I call Khalti again and ask, \\"What is the status of this pidx?\\" Only their response flips the order to PAID.\\n\\n## Quick comparison\\n\\n| What | eSewa (V2) | Khalti (V2) |\\n| --- | --- | --- |\\n| Setup | HTML form + signature | Backend API call |\\n| Trust anchor | HMAC-SHA256 signature | Bearer token + pidx lookup |\\n| Final check | Recompute signature locally | Ask Khalti server for status |\\n\\n## What I actually do in code\\n\\n1. When a user clicks Checkout, I fetch the merchant keys from a safe store (vault/env) and never expose them to the frontend.\\n2. For eSewa, I sign the payload with HMAC-SHA256 before redirecting; on callback I decode, re-sign, and compare.\\n3. For Khalti, I create the `pidx` server-side, redirect the user, and on callback I immediately call Khalti\'s verify endpoint.\\n4. Only after these checks do I update the order to PAID. Anything mismatched becomes an audit log entry.\\n\\n## Takeaways\\n\\n- Never trust frontend amounts or statuses.\\n- Keep secrets off the browser; everything sensitive happens on the backend.\\n- Always verify after redirect: re-sign for eSewa, lookup for Khalti. Those two steps have saved me from fake Rs 1 checkouts."},{"id":"jwt-access-token-refresh-token-in-nestjs-ecommerce","metadata":{"permalink":"/blog/jwt-access-token-refresh-token-in-nestjs-ecommerce","source":"@site/blog/2025-12-28-jwt-and-token.md","title":"Secure Authentication in NestJS E-Commerce: JWT, Access Tokens, and Refresh Tokens Explained","description":"A practical guide to implementing secure JWT-based authentication with access tokens and refresh tokens in a NestJS e-commerce project. Covers token generation, validation, refresh flow, security best practices, and real-world application in an online store.","date":"2025-12-29T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"NestJS","permalink":"/blog/tags/blog/tags/nestjs","description":"NestJS framework tutorials and guides."},{"inline":false,"label":"JavaScript","permalink":"/blog/tags/blog/tags/javascript","description":"JavaScript programming posts."},{"inline":false,"label":"Authentication","permalink":"/blog/tags/blog/tags/authentication","description":"Authentication and authorization topics."},{"inline":false,"label":"JWT","permalink":"/blog/tags/blog/tags/jwt","description":"JSON Web Token related posts."},{"inline":false,"label":"Security","permalink":"/blog/tags/blog/tags/security","description":"Security best practices and concepts."},{"inline":false,"label":"E-Commerce","permalink":"/blog/tags/blog/tags/ecommerce","description":"E-commerce development projects."},{"inline":false,"label":"Backend","permalink":"/blog/tags/blog/tags/backend","description":"Backend development posts."}],"readingTime":8.25,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"jwt-access-token-refresh-token-in-nestjs-ecommerce","title":"Secure Authentication in NestJS E-Commerce: JWT, Access Tokens, and Refresh Tokens Explained","authors":["virtualabishek"],"date":"2025-12-29","description":"A practical guide to implementing secure JWT-based authentication with access tokens and refresh tokens in a NestJS e-commerce project. Covers token generation, validation, refresh flow, security best practices, and real-world application in an online store.","tags":["technical","nestjs","javascript","authentication","jwt","security","ecommerce","backend"]},"unlisted":false,"prevItem":{"title":"eSewa vs Khalti: how I keep Nepali payments honest","permalink":"/blog/esewa-vs-khalti-secure-payment-flow-nepal"},"nextItem":{"title":"Spanner - Google solution for distributed database in easier","permalink":"/blog/how-google-use-spanner-for-distributed-database-management"}},"content":"## 1. What is JWT (JSON Web Token)?\\n\\nJWT is a compact, self-contained way to securely transmit information between parties as a JSON object. It\'s digitally signed, so it can be verified and trusted.\\n\\n### JWT Structure\\n\\nA JWT looks like this:\\n```\\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4ifQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\\n```\\n\\nIt has **3 parts** separated by dots (`.`):\\n\\n```\\nHEADER.PAYLOAD.SIGNATURE\\n```\\n\\n### Part 1: Header\\n```json\\n{\\n  \\"alg\\": \\"HS256\\",    // Algorithm used to sign (HMAC SHA256)\\n  \\"typ\\": \\"JWT\\"       // Type of token\\n}\\n```\\nThis is Base64Url encoded \u2192 `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9`\\n\\n### Part 2: Payload (Claims)\\n```json\\n{\\n  \\"sub\\": \\"82919d9f-7c7c-4e82-a613-3ce0b7bc523b\\",  // Subject (user ID)\\n  \\"email\\": \\"user@example.com\\",\\n  \\"role\\": \\"seller\\",\\n  \\"iat\\": 1766993470,    // Issued At (timestamp)\\n  \\"exp\\": 1766994370     // Expiration (timestamp)\\n}\\n```\\nThis is Base64Url encoded \u2192 `eyJzdWIiOiI4MjkxOWQ5Zi03...`\\n\\n### Part 3: Signature\\n```javascript\\nHMACSHA256(\\n  base64UrlEncode(header) + \\".\\" + base64UrlEncode(payload),\\n  \\"your-super-secret-jwt-key\\"  // Your JWT_SECRET from .env\\n)\\n```\\nThis creates a signature that verifies the token wasn\'t tampered with.\\n\\n---\\n\\n## 2. Access Token vs Refresh Token\\n\\n| Feature | Access Token | Refresh Token |\\n|---------|--------------|---------------|\\n| **Purpose** | Authenticate API requests | Get new access tokens |\\n| **Lifespan** | Short (15 min - 1 hour) | Long (7 days - 30 days) |\\n| **Stored in** | Memory / localStorage | localStorage / httpOnly cookie |\\n| **Sent with** | Every API request | Only to `/auth/refresh` endpoint |\\n| **If stolen** | Limited damage (expires soon) | More dangerous (can get new tokens) |\\n\\n### Why Two Tokens?\\n\\n**Security vs User Experience tradeoff:**\\n\\n1. **If we only had long-lived tokens:**\\n   - User stays logged in for weeks \u2705\\n   - But if stolen, attacker has access for weeks \u274c\\n\\n2. **If we only had short-lived tokens:**\\n   - If stolen, attacker only has 15 minutes \u2705\\n   - But user must re-login every 15 minutes \u274c\\n\\n3. **With Access + Refresh tokens:**\\n   - Access token expires quickly (15 min) - limits damage if stolen \u2705\\n   - Refresh token gets new access tokens - user stays logged in \u2705\\n   - Refresh token is only sent to ONE endpoint - smaller attack surface \u2705\\n\\n---\\n\\n## 3. The Complete Authentication Flow\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502                           AUTHENTICATION FLOW                                \u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502  Browser \u2502                    \u2502  Backend \u2502                    \u2502 Database \u2502\\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\\n     \u2502                               \u2502                               \u2502\\n     \u2502  1. POST /auth/login          \u2502                               \u2502\\n     \u2502  { email, password }          \u2502                               \u2502\\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                               \u2502\\n     \u2502                               \u2502  2. Verify password           \u2502\\n     \u2502                               \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\\n     \u2502                               \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502                               \u2502  3. Generate tokens:          \u2502\\n     \u2502                               \u2502     - Access (15min)          \u2502\\n     \u2502                               \u2502     - Refresh (7 days)        \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502                               \u2502  4. Store refresh token       \u2502\\n     \u2502                               \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\\n     \u2502                               \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  5. Return both tokens        \u2502                               \u2502\\n     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  6. Store in localStorage:    \u2502                               \u2502\\n     \u2502     auth_access_token         \u2502                               \u2502\\n     \u2502     auth_refresh_token        \u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n```\\n\\n---\\n\\n## 4. Making Authenticated Requests\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502  Browser \u2502                    \u2502  Backend \u2502                    \u2502 Database \u2502\\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\\n     \u2502                               \u2502                               \u2502\\n     \u2502  GET /api/products            \u2502                               \u2502\\n     \u2502  Header: Authorization:       \u2502                               \u2502\\n     \u2502  Bearer eyJhbGci...           \u2502                               \u2502\\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502                               \u2502  1. Extract token from header \u2502\\n     \u2502                               \u2502  2. Verify signature with     \u2502\\n     \u2502                               \u2502     JWT_SECRET                \u2502\\n     \u2502                               \u2502  3. Check expiration          \u2502\\n     \u2502                               \u2502  4. Extract user info         \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502                               \u2502  If valid:                    \u2502\\n     \u2502  \u2705 Return products           \u2502  Get products for user        \u2502\\n     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502                               \u2502  If expired/invalid:          \u2502\\n     \u2502  \u274c 401 Unauthorized          \u2502                               \u2502\\n     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n```\\n\\n---\\n\\n## 5. Token Refresh Flow (When Access Token Expires)\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502  Browser \u2502                    \u2502  Backend \u2502                    \u2502 Database \u2502\\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\\n     \u2502                               \u2502                               \u2502\\n     \u2502  GET /api/categories          \u2502                               \u2502\\n     \u2502  Bearer: [expired token]      \u2502                               \u2502\\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  \u274c 401 Unauthorized          \u2502  Token expired!               \u2502\\n     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502                               \u2502\\n     \u2502  \u2502 Axios Interceptor       \u2502  \u2502                               \u2502\\n     \u2502  \u2502 catches 401, tries      \u2502  \u2502                               \u2502\\n     \u2502  \u2502 to refresh              \u2502  \u2502                               \u2502\\n     \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  POST /auth/refresh           \u2502                               \u2502\\n     \u2502  { refreshToken: \\"eyJ...\\" }   \u2502                               \u2502\\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                               \u2502\\n     \u2502                               \u2502  1. Find token in database    \u2502\\n     \u2502                               \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\\n     \u2502                               \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502                               \u2502  2. Verify not expired        \u2502\\n     \u2502                               \u2502  3. Verify JWT signature      \u2502\\n     \u2502                               \u2502  4. Generate NEW tokens       \u2502\\n     \u2502                               \u2502  5. Delete OLD refresh token  \u2502\\n     \u2502                               \u2502  6. Store NEW refresh token   \u2502\\n     \u2502                               \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  Return new tokens            \u2502                               \u2502\\n     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  Store new tokens in          \u2502                               \u2502\\n     \u2502  localStorage                 \u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  RETRY original request       \u2502                               \u2502\\n     \u2502  GET /api/categories          \u2502                               \u2502\\n     \u2502  Bearer: [NEW access token]   \u2502                               \u2502\\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n     \u2502  \u2705 Return categories         \u2502                               \u2502\\n     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                               \u2502\\n     \u2502                               \u2502                               \u2502\\n```\\n\\n---\\n\\n## 6. How It\'s Implemented in Your Codebase\\n\\n### Backend (NestJS)\\n\\n**1. Generating Tokens** - auth.service.ts\\n```typescript\\nasync generateTokens(user: any) {\\n  const payload = {\\n    sub: user.id,           // Subject - who this token is for\\n    email: user.email,\\n    username: user.username,\\n    role: user.role,\\n  };\\n\\n  // Access token - short lived (15 minutes)\\n  const accessToken = this.jwtService.sign(payload, {\\n    expiresIn: \'15m\',\\n  });\\n\\n  // Refresh token - long lived (7 days)\\n  const refreshToken = this.jwtService.sign(payload, {\\n    expiresIn: \'7d\',\\n  });\\n\\n  // Store refresh token in database (so we can invalidate it)\\n  await this.prisma.refreshToken.create({\\n    data: {\\n      token: refreshToken,\\n      userId: user.id,\\n      expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),\\n    },\\n  });\\n\\n  return { accessToken, refreshToken, expiresIn: 900 };\\n}\\n```\\n\\n**2. JWT Guard** - Protects routes\\n```typescript\\n// jwt-auth.guard.ts\\n@Injectable()\\nexport class JwtAuthGuard extends AuthGuard(\'jwt\') {\\n  canActivate(context: ExecutionContext) {\\n    // Check if route is marked @Public()\\n    const isPublic = this.reflector.get(IS_PUBLIC_KEY, context.getHandler());\\n    if (isPublic) return true;  // Skip auth for public routes\\n    \\n    return super.canActivate(context);  // Verify JWT\\n  }\\n}\\n```\\n\\n**3. JWT Strategy** - Validates tokens\\n```typescript\\n// jwt.strategy.ts\\n@Injectable()\\nexport class JwtStrategy extends PassportStrategy(Strategy) {\\n  constructor() {\\n    super({\\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\\n      secretOrKey: process.env.JWT_SECRET,  // Same secret used to sign\\n    });\\n  }\\n\\n  // Called after JWT is verified\\n  async validate(payload: any) {\\n    return {\\n      userId: payload.sub,\\n      email: payload.email,\\n      role: payload.role,\\n    };\\n  }\\n}\\n```\\n\\n### Frontend (React/Next.js)\\n\\n**1. Storing Tokens After Login** - authSlice.ts\\n```typescript\\nconst response = await authService.login(email, password);\\n\\n// Store both tokens in localStorage\\ntokenManager.setTokens(response.accessToken, response.refreshToken);\\n```\\n\\n**2. Attaching Token to Every Request** - axios-instance.ts\\n```typescript\\naxiosInstance.interceptors.request.use((config) => {\\n  const token = tokenManager.getAccessToken();\\n  if (token) {\\n    config.headers.Authorization = `Bearer ${token}`;\\n  }\\n  return config;\\n});\\n```\\n\\n**3. Auto-Refresh on 401** - axios-instance.ts\\n```typescript\\naxiosInstance.interceptors.response.use(\\n  (response) => response,\\n  async (error) => {\\n    if (error.response?.status === 401 && !originalRequest._retry) {\\n      originalRequest._retry = true;\\n      \\n      const refreshToken = tokenManager.getRefreshToken();\\n      \\n      // Get new tokens\\n      const response = await axios.post(\'/auth/refresh\', { refreshToken });\\n      \\n      // Store new tokens\\n      tokenManager.setTokens(response.accessToken, response.refreshToken);\\n      \\n      // Retry the failed request with new token\\n      return axiosInstance(originalRequest);\\n    }\\n  }\\n);\\n```\\n\\n---\\n\\n## 7. The Relationship Diagram\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502                              JWT ECOSYSTEM                                   \u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n\\n                              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n                              \u2502   JWT_SECRET    \u2502\\n                              \u2502 (in .env file)  \u2502\\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n                                       \u2502\\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n                    \u2502                  \u2502                  \u2502\\n                    \u25bc                  \u25bc                  \u25bc\\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n           \u2502  Sign Tokens   \u2502 \u2502 Verify Tokens  \u2502 \u2502 Decode Tokens  \u2502\\n           \u2502  (on login)    \u2502 \u2502 (on requests)  \u2502 \u2502 (get payload)  \u2502\\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n                    \u2502\\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n        \u25bc                       \u25bc\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502 ACCESS TOKEN  \u2502       \u2502 REFRESH TOKEN \u2502\\n\u2502  (15 minutes) \u2502       \u2502   (7 days)    \u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n        \u2502                       \u2502\\n        \u2502                       \u2502\\n        \u25bc                       \u25bc\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502    localStorage   \u2502   \u2502    localStorage   \u2502\\n\u2502 auth_access_token \u2502   \u2502 auth_refresh_token\u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n                                  \u2502\\n                                  \u25bc\\n                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n                        \u2502     DATABASE      \u2502\\n                        \u2502  RefreshToken     \u2502\\n                        \u2502  table (for       \u2502\\n                        \u2502  invalidation)    \u2502\\n                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n\\n\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502                           REQUEST LIFECYCLE                                  \u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n\\n  User Action          Frontend                    Backend                  DB\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502  Click \\"Create\\"   \u2502                          \u2502                      \u2502\\n      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                          \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502  1. Get access token     \u2502                      \u2502\\n      \u2502                   \u2502     from localStorage    \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502  2. Add to header:       \u2502                      \u2502\\n      \u2502                   \u2502     Authorization:       \u2502                      \u2502\\n      \u2502                   \u2502     Bearer eyJ...        \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502  POST /api/categories    \u2502                      \u2502\\n      \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502                      \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502  3. JwtAuthGuard     \u2502\\n      \u2502                   \u2502                          \u2502     - Extract token  \u2502\\n      \u2502                   \u2502                          \u2502     - Verify with    \u2502\\n      \u2502                   \u2502                          \u2502       JWT_SECRET     \u2502\\n      \u2502                   \u2502                          \u2502     - Check exp      \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502  4. @CurrentUser()   \u2502\\n      \u2502                   \u2502                          \u2502     - Get user from  \u2502\\n      \u2502                   \u2502                          \u2502       token payload  \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502  5. Create category  \u2502\\n      \u2502                   \u2502                          \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502\\n      \u2502                   \u2502                          \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n      \u2502                   \u2502  \u2705 201 Created          \u2502                      \u2502\\n      \u2502  Show success     \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502\\n      \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                          \u2502                      \u2502\\n      \u2502                   \u2502                          \u2502                      \u2502\\n```\\n\\n---\\n\\n## 8. Security Best Practices\\n\\n| Practice | Why | Your Code |\\n|----------|-----|-----------|\\n| **Short access token expiry** | Limits damage if stolen | \u2705 15 minutes |\\n| **Store refresh token in DB** | Can invalidate on logout | \u2705 RefreshToken table |\\n| **Rotate refresh tokens** | Old tokens become invalid | \u2705 Delete old, create new |\\n| **Use HTTPS** | Prevents token interception | \u26a0\ufe0f Use in production |\\n| **HttpOnly cookies** | Prevents XSS theft | \u274c Using localStorage |\\n| **Strong JWT_SECRET** | Prevents token forgery | \u26a0\ufe0f Change in production |\\n\\n---\\n\\n## 9. Common Questions\\n\\n**Q: Why store refresh token in database?**\\nA: So you can invalidate it on logout. Without DB storage, the token is valid until expiration.\\n\\n**Q: Can I decode a JWT without the secret?**\\nA: Yes! The payload is just Base64 encoded. But you can\'t **verify** it without the secret.\\n\\n**Q: What happens if someone steals my refresh token?**\\nA: They can get new access tokens until you logout (which deletes the refresh token from DB).\\n\\n**Q: Why not just use sessions?**\\nA: JWTs are stateless - server doesn\'t need to store session data. Better for scaling and microservices."},{"id":"how-google-use-spanner-for-distributed-database-management","metadata":{"permalink":"/blog/how-google-use-spanner-for-distributed-database-management","source":"@site/blog/2025-12-29-google-spanner.md","title":"Spanner - Google solution for distributed database in easier","description":"I explored the paper - Spanner: Google\u2019s Globally Distributed Database. This blog contains about the spanner in easier way to those who wants to learn about it","date":"2025-12-29T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"Database","permalink":"/blog/tags/blog/tags/database","description":"Database concepts, tutorials, and comparisons."},{"inline":false,"label":"Distributed Database","permalink":"/blog/tags/blog/tags/distributed-database","description":"Distributed database systems and concepts."}],"readingTime":4.825,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"how-google-use-spanner-for-distributed-database-management","title":"Spanner - Google solution for distributed database in easier","authors":["virtualabishek"],"date":"2025-12-29","description":"I explored the paper - Spanner: Google\u2019s Globally Distributed Database. This blog contains about the spanner in easier way to those who wants to learn about it","tags":["technical","database","distrubuted-database"]},"unlisted":false,"prevItem":{"title":"Secure Authentication in NestJS E-Commerce: JWT, Access Tokens, and Refresh Tokens Explained","permalink":"/blog/jwt-access-token-refresh-token-in-nestjs-ecommerce"},"nextItem":{"title":"Understanding Transactions and Locking in PostgreSQL","permalink":"/blog/postgresql-transactions-locking"}},"content":"**Overview:**\\nSpanner is Google\'s scalable, globally-distributed database that combines the benefits of traditional relational databases with massive scalability across datacenters worldwide.\\n\\n**Key Features:**\\n\\n1. **Global Distribution & Replication**\\n   - Shards data across multiple datacenters globally using Paxos consensus\\n   - Automatic failover and resharding\\n   - Configurable replication (typically 3-5 replicas)\\n\\n2. **TrueTime API**\\n   - Novel time API that explicitly exposes clock uncertainty\\n   - Uses GPS and atomic clocks for synchronization\\n   - Typical uncertainty (\u03b5) is 1-7ms\\n   - Enables strong consistency guarantees\\n\\n3. **Transaction Support**\\n   - **External consistency** (linearizability) for distributed transactions\\n   - Lock-free snapshot transactions\\n   - Non-blocking reads in the past\\n   - Two-phase commit across Paxos groups\\n\\n4. **Data Model**\\n   - Semi-relational tables with SQL-like query language\\n   - Hierarchical schema with directories as units of data placement\\n   - Versioned key-value storage with automatic timestamps\\n\\n**Performance Highlights:**\\n- Write latency: ~15ms (including commit wait)\\n- Snapshot read latency: ~1.4ms\\n- Successfully handles datacenter failures with minimal disruption\\n- First major customer (F1 - Google\'s advertising backend) migrated from sharded MySQL\\n\\n**Significance:**\\nFirst system to provide external consistency and globally-consistent reads at global scale, making it suitable for applications requiring strong consistency across continents.\\n\\n\\n\\n\\n## 1. **The Basic Problem Spanner Solves**\\n\\nImagine you have a banking app used worldwide. You need:\\n- **Data everywhere**: Users in Japan and USA both need fast access\\n- **Consistency**: If someone transfers money, both accounts must update correctly\\n- **Availability**: System must work even if a datacenter fails\\n\\nTraditional databases struggle with this. Spanner solves it.\\n\\n## 2. **Core Concepts**\\n\\n### **A. Data Distribution (Sharding)**\\nThink of your data like a library:\\n- Instead of one giant building (single server), you have multiple branches (servers) worldwide\\n- Each branch holds certain books (data shards)\\n- Users go to their nearest branch for faster service\\n\\n```text\\nUser Data Split Across Servers:\\nServer 1 (USA): Users A-M\\nServer 2 (Europe): Users N-Z\\nServer 3 (Asia): Backup copies\\n```\\n\\n### **B. Replication (Copies)**\\n- Each piece of data exists in **multiple locations** (typically 3-5 copies)\\n- If one datacenter fails, others keep working\\n- Like having backup copies of important documents in different safe deposit boxes\\n\\n### **C. Paxos Consensus**\\nThis is how servers **agree** on what data is correct:\\n\\n```text\\nSimple Example:\\n1. Server A wants to write \\"Balance = $100\\"\\n2. It asks other servers: \\"Can I write this?\\"\\n3. Majority (3 out of 5) must agree\\n4. Once majority agrees, write is committed\\n5. All servers eventually get updated\\n```\\n\\n## 3. **The TrueTime Innovation**\\n\\nThis is Spanner\'s \\"secret sauce\\" for handling time across the globe.\\n\\n### **The Time Problem:**\\n```text\\nServer in USA: \\"Transaction happened at 10:00:00\\"\\nServer in Japan: \\"Transaction happened at 10:00:01\\"\\nBut which really came first? Clocks aren\'t perfectly synchronized!\\n```\\n\\n### **TrueTime Solution:**\\nInstead of saying \\"it\'s exactly 10:00:00\\", TrueTime says:\\n```text\\n\\"It\'s between 10:00:00.003 and 10:00:00.007\\"\\n(uncertainty range)\\n```\\n\\n**How it works:**\\n- Uses GPS satellites and atomic clocks\\n- Admits uncertainty explicitly\\n- Waits out uncertainty when needed for correctness\\n\\n```text\\nExample:\\nTransaction 1 commits at time [10:00:00.000 - 10:00:00.007]\\nSpanner waits until 10:00:00.007 passes\\nThen Transaction 2 can start at [10:00:00.008 - 10:00:00.015]\\nNow we KNOW Transaction 1 finished before Transaction 2 started!\\n```\\n\\n## 4. **Transaction Types**\\n\\n### **Read-Write Transactions** (Strong Consistency)\\n```text\\nExample: Transfer $50 from Account A to Account B\\n\\n1. Lock both accounts\\n2. Read current balances\\n3. Calculate new balances\\n4. Get timestamp from TrueTime\\n5. Write changes to multiple servers (Paxos)\\n6. Wait for commit-wait (ensures ordering)\\n7. Release locks\\n```\\n\\n### **Snapshot Transactions** (Read-Only, No Locks)\\n```text\\nExample: Generate monthly report\\n\\n1. Pick a timestamp in the past (e.g., \\"end of last month\\")\\n2. Read data as it existed at that exact time\\n3. No locks needed - just reading history\\n4. Can read from any replica that\'s up-to-date\\n```\\n\\n## 5. **Data Organization**\\n\\n### **Directories**\\nThink of directories as folders that keep related data together:\\n\\n```text\\nDirectory for User \\"Alice\\":\\n\u251c\u2500\u2500 Profile Info\\n\u251c\u2500\u2500 Purchase History\\n\u2514\u2500\u2500 Preferences\\n\\nThis whole directory:\\n- Stays together on same servers\\n- Moves as a unit if needed\\n- Can be replicated to different locations\\n```\\n\\n### **Schema Example**\\n```sql\\n-- Users table\\nCREATE TABLE Users {\\n  user_id INT64,\\n  email STRING,\\n  name STRING\\n} PRIMARY KEY (user_id);\\n\\n-- Orders table (nested under Users)\\nCREATE TABLE Orders {\\n  user_id INT64,\\n  order_id INT64,\\n  amount FLOAT\\n} PRIMARY KEY (user_id, order_id),\\n  INTERLEAVE IN PARENT Users;\\n```\\n\\nThe `INTERLEAVE` means orders are stored physically close to their user - faster queries!\\n\\n## 6. **How a Write Works (Step-by-Step)**\\n\\n```text\\nUser wants to update their email:\\n\\n1. REQUEST arrives at nearest Spanner server\\n   \\n2. SERVER identifies which Paxos group owns this data\\n   \\n3. LEADER of that group receives the request\\n   \\n4. ACQUIRE LOCKS on the data\\n   \\n5. PROPOSE change to other replicas via Paxos\\n   \\"I want to write: user_123.email = \'new@email.com\'\\"\\n   \\n6. REPLICAS vote (need majority to agree)\\n   \\n7. TIMESTAMP assigned using TrueTime\\n   timestamp = TT.now().latest\\n   \\n8. COMMIT WAIT - wait until TT.after(timestamp) is true\\n   (ensures external consistency)\\n   \\n9. APPLY the change to all replicas\\n   \\n10. RELEASE LOCKS\\n    \\n11. RETURN success to user\\n```\\n\\n## 7. **Key Benefits**\\n\\n| Feature | What It Means |\\n|---------|---------------|\\n| **External Consistency** | Transactions appear in the order they actually happened in real time |\\n| **Global Availability** | Works even if entire datacenters fail |\\n| **SQL Support** | Use familiar database queries |\\n| **Automatic Scaling** | Add servers without downtime |\\n| **Strong Consistency** | No \\"eventual consistency\\" surprises |\\n\\n## 8. **Real-World Example: Google\'s F1**\\n\\nGoogle\'s advertising system uses Spanner:\\n- **Before**: Manually sharded MySQL (nightmare to manage)\\n- **After**: Spanner handles sharding automatically\\n- **Scale**: Tens of terabytes, millions of operations/second\\n- **Replication**: 5 replicas across US (2 west coast, 3 east coast)"},{"id":"postgresql-transactions-locking","metadata":{"permalink":"/blog/postgresql-transactions-locking","source":"@site/blog/2024-08-14-postgress-day-one.md","title":"Understanding Transactions and Locking in PostgreSQL","description":"A deep dive into PostgreSQL transactions, error handling, savepoints, transactional DDLs, and locking with MVCC.","date":"2025-08-14T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"PostgreSQL","permalink":"/blog/tags/blog/tags/postgresql","description":"PostgreSQL tutorials and tips."},{"inline":false,"label":"Database","permalink":"/blog/tags/blog/tags/database","description":"Database concepts, tutorials, and comparisons."}],"readingTime":6.015,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"postgresql-transactions-locking","title":"Understanding Transactions and Locking in PostgreSQL","authors":["virtualabishek"],"date":"2025-08-14","description":"A deep dive into PostgreSQL transactions, error handling, savepoints, transactional DDLs, and locking with MVCC.","tags":["technical","postgresql","database"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"Spanner - Google solution for distributed database in easier","permalink":"/blog/how-google-use-spanner-for-distributed-database-management"},"nextItem":{"title":"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server","permalink":"/blog/database-comparision"}},"content":"This guide provides a comprehensive overview of transactions and locking mechanisms in PostgreSQL, based on provided examples and outputs. It covers transaction basics, error handling, savepoints, transactional DDLs, and basic locking with Multi-Version Concurrency Control (MVCC). The outputs from the provided examples are included to illustrate the behavior.\\n\\n## Table of Contents\\n\\n1. [Working with PostgreSQL Transactions](#working-with-postgresql-transactions)\\n2. [Handling Errors Inside a Transaction](#handling-errors-inside-a-transaction)\\n3. [Using SAVEPOINT](#using-savepoint)\\n4. [Transactional DDLs](#transactional-ddls)\\n5. [Understanding Basic Locking and MVCC](#understanding-basic-locking-and-mvcc)\\n\\n## Working with PostgreSQL Transactions\\n\\nIn PostgreSQL, every operation is part of a transaction, even single statements. Transactions ensure data consistency and integrity.\\n\\n### Key Functions for Timestamps\\n\\n- **`now()`**: Returns the same timestamp for all statements within a transaction, ensuring consistency.\\n\\n  - Example: Useful for logging actions with a consistent timestamp.\\n  - ```sql\\n    SELECT now(), now();\\n    ```\\n    Output:\\n    ```\\n               now                |               now\\n    ----------------------------------+----------------------------------\\n     2025-08-14 13:05:37.943104+05:45 | 2025-08-14 13:05:37.943104+05:45\\n    (1 row)\\n    ```\\n    - Both calls to `now()` return the same timestamp within a single transaction.\\n\\n- **`clock_timestamp()`**: Returns the real-time timestamp for each call, even within the same transaction.\\n  - Example: Useful for measuring query execution time.\\n  - ```sql\\n    SELECT clock_timestamp();\\n    ```\\n    Output:\\n    ```\\n             clock_timestamp\\n    ----------------------------------\\n     2025-08-14 13:06:42.247353+05:45\\n    (1 row)\\n    ```\\n\\n### Explicit Transactions\\n\\nTo group multiple statements into a single transaction, use the `BEGIN`, `COMMIT`, and `ROLLBACK` commands:\\n\\n- **`BEGIN`**: Starts a transaction.\\n- **`COMMIT` or `END`**: Commits the transaction, making changes permanent.\\n- **`ROLLBACK` or `ABORT`**: Discards changes made in the transaction.\\n- Example:\\n\\n  ```sql\\n  BEGIN;\\n  SELECT now();\\n  SELECT now();\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n               now\\n  ----------------------------------\\n   2025-08-14 13:11:50.579118+05:45\\n  (1 row)\\n\\n               now\\n  ----------------------------------\\n   2025-08-14 13:11:50.579118+05:45\\n  (1 row)\\n\\n  COMMIT\\n  ```\\n\\n  - Both `now()` calls return the same timestamp, as they are part of the same transaction.\\n\\n### Read-Only Transactions\\n\\nSet a transaction to read-only to prevent modifications:\\n\\n- ```sql\\n  SHOW transaction_read_only;\\n  BEGIN TRANSACTION READ ONLY;\\n  SELECT 1;\\n  COMMIT AND CHAIN;\\n  SHOW transaction_read_only;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n   transaction_read_only\\n  -----------------------\\n   off\\n  (1 row)\\n\\n  BEGIN\\n   ?column?\\n  ----------\\n          1\\n  (1 row)\\n\\n  COMMIT\\n   transaction_read_only\\n  -----------------------\\n   on\\n  (1 row)\\n\\n  COMMIT\\n  ```\\n\\n  - Initially, `transaction_read_only` is `off` (read/write mode).\\n  - `BEGIN TRANSACTION READ ONLY` sets it to `on`.\\n  - `COMMIT AND CHAIN` commits the transaction and starts a new one with the same read-only property.\\n\\nTo get help for commands in `psql`:\\n\\n- ```sql\\n  \\\\h COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  Command:     COMMIT\\n  Description: commit the current transaction\\n  Syntax:\\n  COMMIT [ WORK | TRANSACTION ] [ AND [ NO ] CHAIN ]\\n  URL: https://www.postgresql.org/docs/16/sql-commit.html\\n  ```\\n\\n- ```sql\\n  \\\\h ROLLBACK;\\n  ```\\n  Output:\\n  ```\\n  Command:     ROLLBACK\\n  Description: abort the current transaction\\n  Syntax:\\n  ROLLBACK [ WORK | TRANSACTION ] [ AND [ NO ] CHAIN ]\\n  URL: https://www.postgresql.org/docs/16/sql-rollback.html\\n  ```\\n\\n## Handling Errors Inside a Transaction\\n\\nIf an error occurs within a transaction, PostgreSQL aborts the transaction, and subsequent commands are ignored until the transaction is rolled back or committed.\\n\\n- Example:\\n\\n  ```sql\\n  BEGIN;\\n  SELECT 1;\\n  SELECT 1/0;\\n  SELECT 2;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n   ?column?\\n  ----------\\n          1\\n  (1 row)\\n\\n  ERROR:  division by zero\\n  ERROR:  current transaction is aborted, commands ignored until end of transaction block\\n  ROLLBACK\\n  ```\\n\\n  - The `division by zero` error aborts the transaction.\\n  - The subsequent `SELECT 2` is ignored until `ROLLBACK` resets the transaction state.\\n  - Use `ROLLBACK` to discard changes and recover from the error.\\n\\n## Using SAVEPOINT\\n\\nSavepoints allow partial rollbacks within a transaction, enabling recovery from errors without discarding all changes.\\n\\n- Example:\\n\\n  ```sql\\n  BEGIN;\\n  SELECT 1;\\n  SAVEPOINT a;\\n  SELECT 2/0;\\n  ROLLBACK TO SAVEPOINT a;\\n  SELECT 2;\\n  SELECT 3;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n   ?column?\\n  ----------\\n          1\\n  (1 row)\\n\\n  SAVEPOINT\\n  ERROR:  division by zero\\n  ERROR:  current transaction is aborted, commands ignored until end of transaction block\\n  ROLLBACK\\n   ?column?\\n  ----------\\n          2\\n  (1 row)\\n\\n   ?column?\\n  ----------\\n          3\\n  (1 row)\\n\\n  COMMIT\\n  ```\\n\\n  - `SAVEPOINT a` marks a point in the transaction.\\n  - After the `division by zero` error, `ROLLBACK TO SAVEPOINT a` reverts to the state at `a`.\\n  - Subsequent commands (`SELECT 2`, `SELECT 3`) execute successfully.\\n  - Use `RELEASE SAVEPOINT <name>` to remove a savepoint if no longer needed.\\n\\n## Transactional DDLs\\n\\nPostgreSQL supports transactional Data Definition Language (DDL) operations, meaning DDL commands (e.g., `CREATE TABLE`, `ALTER TABLE`) can be rolled back if the transaction fails.\\n\\n- Example:\\n\\n  ```sql\\n  BEGIN;\\n  CREATE TABLE testme (id int);\\n  ALTER TABLE testme ALTER COLUMN id TYPE int8;\\n  CREATE TABLE testme2 (name VARCHAR(20));\\n  ALTER TABLE testme2 ALTER COLUMN name TYPE VARCHAR(50);\\n  \\\\d testme;\\n  \\\\d testme2;\\n  ROLLBACK;\\n  \\\\d testme;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n  CREATE TABLE\\n  ALTER TABLE\\n  CREATE TABLE\\n  ALTER TABLE\\n                Table \\"public.testme\\"\\n   Column |  Type  | Collation | Nullable | Default\\n  --------+--------+-----------+----------+---------\\n   id     | bigint |           |          |\\n\\n                     Table \\"public.testme2\\"\\n   Column |         Type          | Collation | Nullable | Default\\n  --------+-----------------------+-----------+----------+---------\\n   name   | character varying(50) |           |          |\\n\\n  ROLLBACK\\n  Did not find any relation named \\"testme\\".\\n  ```\\n\\n  - The tables `testme` and `testme2` are created and modified within the transaction.\\n  - After `ROLLBACK`, both tables are removed, as the transaction was not committed.\\n  - The final `\\\\d testme;` confirms the table no longer exists.\\n\\n## Understanding Basic Locking and MVCC\\n\\nPostgreSQL uses **Multi-Version Concurrency Control (MVCC)** to handle concurrent transactions, ensuring that read operations do not block write operations and vice versa.\\n\\n### Example: Concurrent Read and Write\\n\\n- **Transaction 1**:\\n\\n  ```sql\\n  BEGIN;\\n  SELECT * FROM testme;\\n  UPDATE testme SET id = id + 1 RETURNING *;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n   id\\n  ----\\n    0\\n  (1 row)\\n\\n   id\\n  ----\\n    1\\n  (1 row)\\n\\n  UPDATE 1\\n  COMMIT\\n  ```\\n\\n- **Transaction 2** (concurrent):\\n\\n  ```sql\\n  BEGIN;\\n  SELECT * FROM testme;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n   id\\n  ----\\n    0\\n  (1 row)\\n\\n  COMMIT\\n  ```\\n\\n  - Transaction 2 sees the data as it was before Transaction 1\u2019s update (`id = 0`) due to MVCC.\\n  - Write transactions (e.g., `UPDATE`) do not block read transactions (e.g., `SELECT`).\\n\\n### Concurrent Updates\\n\\nWhen multiple transactions update the same table:\\n\\n- **Transaction 1**:\\n\\n  ```sql\\n  BEGIN;\\n  UPDATE testme SET id = id + 1 RETURNING *;\\n  UPDATE testme SET id = id + 1 RETURNING *;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n   id\\n  ----\\n    2\\n  (1 row)\\n\\n  UPDATE 1\\n   id\\n  ----\\n    3\\n  (1 row)\\n\\n  UPDATE 1\\n  COMMIT\\n  ```\\n\\n- **Transaction 2** (after Transaction 1 commits):\\n\\n  ```sql\\n  BEGIN;\\n  UPDATE testme SET id = id + 1 RETURNING *;\\n  COMMIT;\\n  ```\\n\\n  Output:\\n\\n  ```\\n  BEGIN\\n   id\\n  ----\\n    4\\n  (1 row)\\n\\n  UPDATE 1\\n  COMMIT\\n  ```\\n\\n  - Transaction 2 updates the row after Transaction 1 commits, incrementing `id` to 4.\\n  - PostgreSQL locks only the rows affected by an `UPDATE`, allowing concurrent updates on different rows in the same table.\\n  - For example, with 1,000 rows, 1,000 concurrent updates can occur on different rows without conflict.\\n\\n### Additional Example\\n\\n- **Transaction**:\\n  ```sql\\n  BEGIN;\\n  SELECT * FROM testme;\\n  ```\\n  Output:\\n  ```\\n  BEGIN\\n   id\\n  ----\\n    1\\n  (1 row)\\n  ```\\n\\n## Additional Notes\\n\\n- Use `\\\\h <command>` in `psql` to get help for commands like `SELECT`, `COMMIT`, or `ROLLBACK`.\\n- PostgreSQL\u2019s MVCC ensures high concurrency by maintaining multiple versions of data, allowing readers to see a consistent snapshot without waiting for writers.\\n- Always commit or roll back transactions explicitly to avoid leaving connections in an aborted state.\\n- The note \\"aba jaba, transaction 1 commit vayo, ani transaction 2 update huncha\\" translates to \\"now then, transaction 1 is committed, and transaction 2 updates\\" in Nepali, indicating the sequence of commits and updates.\\n\\nFor more details, refer to the [PostgreSQL documentation](https://www.postgresql.org/docs/16/index.html)."},{"id":"database-comparision","metadata":{"permalink":"/blog/database-comparision","source":"@site/blog/2025-08-13-database-comparision.md","title":"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server","description":"I explored different database and compared with each other. I also tested PostgreSQL for its size and time for the 100000 tuples","date":"2025-08-13T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"Linux","permalink":"/blog/tags/blog/tags/linux","description":"Linux-related posts and tutorials."},{"inline":false,"label":"Development","permalink":"/blog/tags/blog/tags/development","description":"Software development practices and experiences."}],"readingTime":9.3,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"database-comparision","title":"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server","authors":["virtualabishek"],"date":"2025-08-13","description":"I explored different database and compared with each other. I also tested PostgreSQL for its size and time for the 100000 tuples","tags":["technical","linux","development"]},"unlisted":false,"prevItem":{"title":"Understanding Transactions and Locking in PostgreSQL","permalink":"/blog/postgresql-transactions-locking"},"nextItem":{"title":"Village Realities: A Four-Day Revelation","permalink":"/blog/village-realities-four-day-revelation"}},"content":"This project explores database options for small to medium-sized enterprises (SMEs), startups, and academic projects in Nepal, with a focus on building a scalable accounting system. I\u2019ve compared popular databases and implemented an accounting system using PostgreSQL, including a Python script to generate and load 10,000 transaction records. This is tailored for contexts like ABC Warehouse, where I study, to estimate storage and performance needs.\\n\\n---\\n\\n## Why This Project?\\n\\nIn Nepal, startups, colleges, and SMEs need cost-effective, scalable databases for applications like accounting systems. I\u2019ve compared PostgreSQL, MySQL, MS SQL Server, and Oracle, and built a practical accounting system with storage estimates and performance tests. PostgreSQL is my top choice due to its power, flexibility, and zero licensing cost, perfect for Nepali use cases.\\n\\n---\\n\\n## Database Comparison\\n\\nHere\u2019s a friendly breakdown of the databases I considered, with pros, cons, and use cases for Nepali users:\\n\\n### PostgreSQL\\n\\n**\u201cThe modern, feature-rich open-source option \u2014 great for new, technically-savvy teams.\u201d**\\n\\n- **Pros**:\\n  - No licensing cost, ideal for startups and colleges.\\n  - Advanced SQL features (window functions, CTEs, partitioning).\\n  - JSONB for flexible schemas (SQL + NoSQL).\\n  - PostGIS for geospatial apps (e.g., nearest hospital or delivery routing).\\n  - Strong concurrency with MVCC (Multi-Version Concurrency Control) for heavy read/write apps.\\n  - Easy to deploy on VPS or managed services (AWS RDS, DigitalOcean, Aiven).\\n- **Cons**: Slightly steeper learning curve than MySQL for admin tasks; less common in some regulated industries (e.g., finance/healthcare).\\n- **Use When**: You want power without cost, especially for modern web apps, analytics, or geospatial projects.\\n\\n### MySQL (Community)\\n\\n**\u201cSimple, common, and cheap \u2014 great for small or legacy web apps.\u201d**\\n\\n- **Pros**: Easy to find cheap hosting; widely used in PHP-based apps (LAMP stack).\\n- **Cons**: Fewer advanced features compared to PostgreSQL or Oracle; often limited to simpler or legacy systems.\\n- **Use When**: You\u2019re on shared hosting or building simple PHP-based apps with minimal cost.\\n\\n### MS SQL Server\\n\\n**\u201cThe comfortable, enterprise choice for Windows/.NET shops.\u201d**\\n\\n- **Pros**: Easy to learn, great GUI tools (SSMS), automation-friendly, common in business settings.\\n- **Cons**: Expensive licensing for large deployments (Express edition is free for small projects); often tied to Windows Server costs.\\n- **Use When**: Your organization uses the Microsoft stack or needs fast onboarding for DBAs.\\n\\n### Oracle\\n\\n**\u201cThe power tool \u2014 huge feature set and top pay, but steep learning and cost.\u201d**\\n\\n- **Pros**: Extremely powerful for large, mission-critical systems; top-tier enterprise features.\\n- **Cons**: Expensive and complex licensing; steep learning curve; often requires dedicated DBAs.\\n- **Use When**: Large enterprises (banks, telecoms, ERP systems) with big budgets and existing Oracle setups.\\n\\n**Recommendation for Nepali Context**: I recommend **PostgreSQL** for most startups, colleges, and SMEs due to its power, flexibility, and no licensing cost. Use MySQL for cheap hosting or legacy PHP apps, MS SQL Server for Microsoft-heavy environments, and Oracle only for large enterprise needs.\\n\\n---\\n\\n## Accounting System Database Design\\n\\nI designed a simple accounting system for a college like ABC Warehouse, focusing on scalability and performance. The system tracks **transactions**, **students**, **invoices**, and **invoice line items**. Below is the schema and storage estimation.\\n\\n### Schema Overview\\n\\n#### Transactions Table\\n\\nStores journal entries for accounting (e.g., date, particulars, credit, debit).\\n\\n```sql\\nCREATE TABLE transactions (\\n    id SERIAL PRIMARY KEY,\\n    date DATE NOT NULL,\\n    particulars VARCHAR(200) NOT NULL,\\n    credit NUMERIC(12,2) DEFAULT 0,\\n    debit NUMERIC(12,2) DEFAULT 0,\\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\\n);\\n```\\n\\n#### Students Table\\n\\nStores student information for invoicing.\\n\\n```sql\\nCREATE TABLE students (\\n    student_id SERIAL PRIMARY KEY,\\n    name TEXT NOT NULL,\\n    email TEXT,\\n    phone VARCHAR(15),\\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\\n);\\n```\\n\\n#### Invoices Table\\n\\nTracks invoices issued to students.\\n\\n```sql\\nCREATE TABLE invoices (\\n    invoice_id SERIAL PRIMARY KEY,\\n    student_id INT REFERENCES students(student_id),\\n    issue_date DATE NOT NULL,\\n    due_date DATE NOT NULL,\\n    total_amount NUMERIC(12,2) NOT NULL,\\n    paid_amount NUMERIC(12,2) DEFAULT 0,\\n    balance_due NUMERIC(12,2) GENERATED ALWAYS AS (total_amount - paid_amount) STORED,\\n    status VARCHAR(20) NOT NULL,\\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\\n);\\n```\\n\\n#### Invoice Line Items Table\\n\\nDetails items in each invoice (e.g., tuition fees, lab fees).\\n\\n```sql\\nCREATE TABLE invoice_line_items (\\n    line_id SERIAL PRIMARY KEY,\\n    invoice_id INT REFERENCES invoices(invoice_id),\\n    item_name VARCHAR(50) NOT NULL,\\n    description TEXT,\\n    quantity INT NOT NULL,\\n    unit_price NUMERIC(12,2) NOT NULL,\\n    amount NUMERIC(12,2) GENERATED ALWAYS AS (quantity * unit_price) STORED,\\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\\n);\\n```\\n\\n### Storage Estimation\\n\\nI estimated storage needs for the accounting system based on **10 transactions/day**, **10 students/day**, and **10 invoices/day** with **3 line items per invoice**. Here\u2019s the breakdown:\\n\\n#### Transactions Table\\n\\n- **Fields**: id (4 bytes), date (4 bytes), particulars (200 bytes), credit (8 bytes), debit (8 bytes), created_at (8 bytes), updated_at (8 bytes).\\n- **Total per row**: 236 bytes + 27 bytes (PostgreSQL overhead) \u2248 **263 bytes**.\\n- **Daily**: 10 transactions \xd7 263 bytes = **2.57 KB**.\\n- **Monthly**: 30 days \xd7 2.57 KB \u2248 **77.1 KB**.\\n- **Yearly**: 360 days \xd7 2.57 KB \u2248 **925 KB**.\\n\\n#### Students Table\\n\\n- **Fields**: student_id (4 bytes), name (100 bytes), email (50 bytes), phone (15 bytes), created_at (8 bytes), updated_at (8 bytes).\\n- **Total per row**: 185 bytes + 27 bytes (overhead) \u2248 **212 bytes**.\\n- **Daily**: 10 students \xd7 212 bytes \u2248 **2.07 KB**.\\n- **Monthly**: 30 days \xd7 2.07 KB \u2248 **62.1 KB**.\\n- **Yearly**: 360 days \xd7 2.07 KB \u2248 **746 KB**.\\n\\n#### Invoices Table\\n\\n- **Fields**: invoice_id (4 bytes), student_id (4 bytes), issue_date (4 bytes), due_date (4 bytes), total_amount (8 bytes), paid_amount (8 bytes), balance_due (8 bytes), status (20 bytes), created_at (8 bytes), updated_at (8 bytes).\\n- **Total per row**: 76 bytes + 23 bytes (overhead) \u2248 **99 bytes**.\\n- **Daily**: 10 invoices \xd7 99 bytes \u2248 **0.97 KB**.\\n- **Monthly**: 30 days \xd7 0.97 KB \u2248 **29.1 KB**.\\n- **Yearly**: 360 days \xd7 0.97 KB \u2248 **349 KB**.\\n\\n#### Invoice Line Items Table\\n\\n- **Fields**: line_id (4 bytes), invoice_id (4 bytes), item_name (50 bytes), description (200 bytes), quantity (4 bytes), unit_price (8 bytes), amount (8 bytes), created_at (8 bytes), updated_at (8 bytes).\\n- **Total per row**: 294 bytes + 27 bytes (overhead) \u2248 **321 bytes**.\\n- **Daily**: 10 invoices \xd7 3 line items \xd7 321 bytes \u2248 **9.4 KB**.\\n- **Monthly**: 30 days \xd7 9.4 KB \u2248 **282 KB**.\\n- **Yearly**: 360 days \xd7 9.4 KB \u2248 **3.38 MB**.\\n\\n#### Total Storage\\n\\n- **Daily**: 2.57 KB (transactions) + 2.07 KB (students) + 0.97 KB (invoices) + 9.4 KB (line items) \u2248 **12.44 KB/day**.\\n- **Monthly**: 12.44 KB \xd7 30 \u2248 **373 KB/month**.\\n- **Yearly**: 12.44 KB \xd7 360 \u2248 **4.48 MB/year**.\\n\\n### Scalability Notes\\n\\n- **PostgreSQL\u2019s MVCC**: Handles high concurrency without locking, ideal for heavy read/write workloads (e.g., frequent transactions at a college).\\n- **Storage Growth**: Even with 360 transactions/year, the database size remains small (~4.48 MB/year), easily manageable on a VPS or managed service.\\n- **Performance**: Importing 100,000 transactions took ~204 ms, showing PostgreSQL\u2019s efficiency for moderate workloads.\\n- **Balance Sheet Queries**: Use SQL aggregates (e.g., `SUM(credit)`, `SUM(debit)`) to generate balance sheets or trial balances.\\n\\n---\\n\\n## Generating and Loading Data with Python\\n\\nTo test the system\u2019s performance, I wrote a Python script to generate 10,000 transaction records and load them into the `transactions` table. The script creates a tab-delimited CSV file (`transactions.txt`) and uses PostgreSQL\u2019s `\\\\copy` command to import the data efficiently.\\n\\n### Python Script for Data Generation\\n\\n```python\\nimport csv\\nimport random\\nfrom datetime import datetime, timedelta\\n\\n# Generate 10,000 transaction records\\nnum_records = 10000\\nstart_date = datetime(2025, 1, 1)\\nparticulars_list = [\\"Tuition Fee\\", \\"Lab Fee\\", \\"Library Fee\\", \\"Exam Fee\\", \\"Miscellaneous\\"]\\n\\nwith open(\'/tmp/transactions.txt\', \'w\', newline=\'\') as f:\\n    writer = csv.writer(f, delimiter=\'\\\\t\')\\n    writer.writerow([\'date\', \'particulars\', \'credit\', \'debit\'])  # CSV header\\n    for i in range(num_records):\\n        date = (start_date + timedelta(days=random.randint(0, 365))).strftime(\'%Y-%m-%d\')\\n        particulars = random.choice(particulars_list)\\n        credit = round(random.uniform(0, 5000), 2) if random.random() > 0.5 else 0\\n        debit = round(random.uniform(0, 5000), 2) if credit == 0 else 0\\n        writer.writerow([date, particulars, credit, debit])\\n\\nprint(f\\"Generated {num_records} transaction records in /tmp/transactions.txt\\")\\n```\\n\\n### Loading Data into PostgreSQL\\n\\nI ran into some permission issues when trying to load the data initially (e.g., `Permission denied` for `/home/virtualabishek/Desktop/code/learning/postgres-notes/transactions.txt`). To fix this, I moved the file to `/tmp/` and used the `\\\\copy` command, which is client-side and avoids server permission issues:\\n\\n```sql\\n\\\\copy transactions(date, particulars, credit, debit) FROM \'/tmp/transactions.txt\' DELIMITER E\'\\\\t\' CSV HEADER;\\n```\\n\\nThis successfully loaded 100,000 records (I tested with a larger dataset to stress-test), taking ~204 ms, as shown in my terminal output:\\n\\n```\\nCOPY 100000\\nTime: 204.345 ms\\n```\\n\\n### Lessons Learned\\n\\n- **COPY vs. \\\\copy**: I initially tried `COPY`, but got a `Permission denied` error because it runs server-side. Switching to `\\\\copy` resolved this.\\n- **File Permissions**: Moving the file to `/tmp/` avoided permission issues, as `/tmp/` is accessible to the PostgreSQL client.\\n- **Performance**: Loading 100,000 records in ~204 ms shows PostgreSQL\u2019s efficiency for bulk imports.\\n\\n---\\n\\n## Why PostgreSQL for This Project?\\n\\nI chose PostgreSQL because:\\n\\n- **No License Cost**: Perfect for budget-conscious Nepali startups and colleges.\\n- **Rich Data Types**: Supports JSONB for flexible schemas, GEOMETRY for geospatial queries (e.g., campus mapping), and NUMERIC for precise accounting.\\n- **Concurrency**: MVCC ensures readers and writers don\u2019t block each other, ideal for busy systems.\\n- **Extensibility**: PostGIS for geospatial apps, full-text search, and more.\\n- **Deployment**: Easy to run on a VPS or use managed providers (AWS RDS, Aiven).\\n\\n---\\n\\n## Setup Instructions\\n\\n1. **Install PostgreSQL**:\\n\\n   - On Ubuntu: `sudo apt update && sudo apt install postgresql postgresql-contrib`\\n   - Verify: `psql --version`\\n\\n2. **Create Database**:\\n\\n   ```bash\\n   sudo -u postgres createdb accountdb\\n   ```\\n\\n3. **Set Up Tables**:\\n\\n   - Connect: `psql -d accountdb`\\n   - Run the `CREATE TABLE` statements above for `transactions`, `students`, `invoices`, and `invoice_line_items`.\\n\\n4. **Generate Data**:\\n\\n   - Run the Python script above to create `/tmp/transactions.txt` with 10,000 records.\\n\\n5. **Import Data**:\\n\\n   - Import:\\n     ```bash\\n     psql -d accountdb -c \\"\\\\copy transactions(date, particulars, credit, debit) FROM \'/tmp/transactions.txt\' DELIMITER E\'\\\\t\' CSV HEADER\\"\\n     ```\\n\\n6. **Check Database Size**:\\n\\n   ```sql\\n   SELECT pg_size_pretty(pg_database_size(current_database()));\\n   ```\\n\\n   My test showed ~18 MB for the database with 100,000 transaction records.\\n\\n7. **Monitor Performance**:\\n   - Enable timing: `\\\\timing on`\\n   - Run imports or queries to measure execution time (e.g., ~204 ms for 100,000 records).\\n\\n---\\n\\n## Example Queries\\n\\n- **List Transactions**:\\n\\n  ```sql\\n  SELECT * FROM transactions LIMIT 10;\\n  ```\\n\\n- **Calculate Balance Sheet**:\\n\\n  ```sql\\n  SELECT SUM(credit) AS total_credit, SUM(debit) AS total_debit\\n  FROM transactions\\n  WHERE date BETWEEN \'2025-01-01\' AND \'2025-12-31\';\\n  ```\\n\\n- **Find Unpaid Invoices**:\\n  ```sql\\n  SELECT i.invoice_id, s.name, i.total_amount, i.balance_due\\n  FROM invoices i\\n  JOIN students s ON i.student_id = s.student_id\\n  WHERE i.status = \'UNPAID\';\\n  ```\\n\\n---\\n\\n## Future Improvements\\n\\n- Add indexes on frequently queried columns (e.g., `date`, `student_id`) for faster searches.\\n- Implement triggers to auto-update `updated_at` timestamps.\\n- Use JSONB for flexible transaction metadata (e.g., store tax info).\\n- Explore PostGIS for campus-related geospatial queries (e.g., mapping student locations).\\n- Optimize the Python script to generate larger datasets or simulate realistic transaction patterns.\\n\\n---\\n\\n## Final Note\\n\\nI built this accounting system to be lightweight (4.48 MB/year for 10 transactions/day), scalable, and cost-effective using PostgreSQL. The Python script made it easy to generate and load 10,000 records, and PostgreSQL\u2019s performance (~204 ms for 100,000 records) proves it\u2019s ready for real-world use. Let\u2019s keep building awesome tech for Nepal!"},{"id":"village-realities-four-day-revelation","metadata":{"permalink":"/blog/village-realities-four-day-revelation","source":"@site/blog/2025-07-06-reflection-of-4-days-tour.md","title":"Village Realities: A Four-Day Revelation","description":"Reflections from a four-day tour to rural Nepal - discovering the challenges and wisdom of village life through conversations with locals.","date":"2025-07-06T00:00:00.000Z","tags":[{"inline":false,"label":"Non Technical","permalink":"/blog/tags/blog/tags/non-technical","description":"You can find all non-technical related blogs here."},{"inline":false,"label":"Life","permalink":"/blog/tags/blog/tags/life","description":"Life reflections and personal stories."},{"inline":false,"label":"Travel","permalink":"/blog/tags/blog/tags/travel","description":"Travel experiences and stories."},{"inline":false,"label":"Nepal","permalink":"/blog/tags/blog/tags/nepal","description":"Posts about Nepal."}],"readingTime":2.16,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"village-realities-four-day-revelation","title":"Village Realities: A Four-Day Revelation","authors":["virtualabishek"],"date":"2025-07-06","description":"Reflections from a four-day tour to rural Nepal - discovering the challenges and wisdom of village life through conversations with locals.","tags":["non-technical","life","travel","nepal"]},"unlisted":false,"prevItem":{"title":"Database Comparision between PostgreSQL, MySQL, Oracle, MS SQL Server","permalink":"/blog/database-comparision"},"nextItem":{"title":"From Chaos to Clarity","permalink":"/blog/breaking-down-the-problem"}},"content":"Okay, so here\'s the real talk: I always imagined villages as disciplined, polite, and honest places. But after a four-day tour to a rural area of Nepal, I\'ve come to realize that villages can actually be more challenging than urban areas. It was quite a shock; everyone seemed to be comparing themselves to each other and constantly getting into conflicts. I stayed in more than six different houses, and almost every single one had some kind of underlying problem.\\n\\nLet me share some profound truths I learned from an 82-year-old man:\\n\\n> - **Manage your expectations and always act with good behavior.** (This is something I already knew, but it was a powerful reminder.)\\n> - **God always provides a way.** If you face a problem in one area, a solution will emerge in another. For instance, if someone lacks sight, their other senses become incredibly sharp.\\n> - **Steer clear of political parties.** They\'re often just trouble. Just vote for who you believe in.\\n> - **Choose your companions wisely.** Always surround yourself with good people, even if it means being alone sometimes.\\n> - **Never pursue love or marriage based solely on phone interactions.** It\'s often an illusion; the real world is entirely different.\\n> - **Your mother is paramount.** She carried you for nine months, enduring so much, and then showed you the world. Cherish her.\\n> - He also taught me a lot about **Karma**.\\n\\n---\\n\\n# Tech Wisdom from a Nonagenarian\\n\\nPerhaps the most fascinating encounter was with an 85-year-old man who knew an incredible amount about computers \u2013 almost as much as a computer science student! He shared insights into computer evolution and even knew **QBASIC**, a language that\'s practically ancient now. He explained different types of printers and emphasized that to truly understand technology, \\"you have to know everything about everything. You should know instructions and all.\\"\\n\\nHe also gave me valuable advice on how to approach answers, especially in exams. He stressed the importance of incorporating **modern trends** to show the examiner you\'re well-read. For example, if you\'re writing about computer viruses, you should include examples of current virus names. He also touched upon versioning, explaining how different versions of software like Word or Excel (e.g., 2016) can complicate things. He gave a relatable example: we were taught what PowerPoint is and how it works, but we were rarely shown any practical demonstrations.\\n\\nThis led to his core message: **\\"Practical is the way. Just focus on practical rather than theory.\\"** I completely agree with him on this. Thank you, Buwa, for these invaluable lessons."},{"id":"breaking-down-the-problem","metadata":{"permalink":"/blog/breaking-down-the-problem","source":"@site/blog/2025-04-27-php-project.md","title":"From Chaos to Clarity","description":"A raw, honest dive into building a PHP portal from scratch, grappling with a new tech stack, and learning to embrace the mess of coding.","date":"2025-04-27T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"Development","permalink":"/blog/tags/blog/tags/development","description":"Software development practices and experiences."}],"readingTime":2.215,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"breaking-down-the-problem","title":"From Chaos to Clarity","authors":["virtualabishek"],"date":"2025-04-27","description":"A raw, honest dive into building a PHP portal from scratch, grappling with a new tech stack, and learning to embrace the mess of coding.","tags":["technical","development"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"Village Realities: A Four-Day Revelation","permalink":"/blog/village-realities-four-day-revelation"},"nextItem":{"title":"Everyday Reflections: Life\'s Unexpected Moments","permalink":"/blog/everyday-reflections"}},"content":"Lately, I\u2019ve been working on a project I never thought would see the light of day. The tech stack was completely different from anything I\u2019d tackled before. I built a portal using PHP, with the entire UI crafted in HTML. Coming from a Node.js background, I was out of my comfort zone, unsure of what to do and what to avoid. I promised myself I wouldn\u2019t be that developer who sticks to just one tech stack\u2014especially in today\u2019s world, where AI makes it possible for anyone to create almost anything. Still, the process wasn\u2019t easy. I wrestled with a ton of PHP libraries\u2014installing, importing, and figuring out how to use them.\\n\\nFor the PHP backend, I went old-school. I handled routing with a switch statement, manually creating all the routes and APIs from scratch. Where I really struggled was the file structure. In my Node.js projects, I prided myself on clean, organized files. But with this project? Total chaos. Making the UI dynamic added another layer of confusion. I was second-guessing every decision, unsure of what would work.\\n\\nI finished the project about a month ago, and to my surprise, I recently spoke with the stakeholders, and they want to deploy it. I was shocked. I know the portal works, but I\u2019m not fully confident in the UI or some other parts. If I\u2019d used React with something like Shadcn, I\u2019d feel much better about it. But they saw the demo, liked it, and are ready to move forward. I was floored\u2014part of me was like, \u201cWhat the heck?\u201d What if I need to add more features? What if it\u2019s deployed and I can\u2019t make changes easily? What if the project grows and becomes too complex?\\n\\nAfter some back-and-forth, I convinced them that this is the version for now, and they agreed. Once my board exams are over, I plan to revisit and improve it.\\n\\n## What I\u2019ve Learned\\n\\nLooking back, I realize I just needed to rant a bit. But here\u2019s the bigger picture: coding, at its core, is about breaking problems into smaller, manageable steps. With AI and modern tools, that\u2019s more true than ever. If you can take one big problem and split it into ten smaller ones\u2014and truly understand what your code is doing\u2014you can build anything. The tools or tech stack? They\u2019re secondary. What matters is understanding the ecosystem and how it all fits together.\\n\\nI\u2019ve been crazy busy lately, juggling board exam prep and multiple projects, but I\u2019m enjoying the process. It\u2019s messy, it\u2019s challenging, but it\u2019s also rewarding. I\u2019ll probably write another update after my exams. For now, this is just me reflecting on the journey."},{"id":"everyday-reflections","metadata":{"permalink":"/blog/everyday-reflections","source":"@site/blog/2025-04-08-nepal.md","title":"Everyday Reflections: Life\'s Unexpected Moments","description":"Personal reflections on everyday struggles in Nepal from the lens of a non-political observer.","date":"2025-04-08T00:00:00.000Z","tags":[{"inline":false,"label":"Betryed","permalink":"/blog/tags/blog/tags/betryed","description":"Personal reflections."},{"inline":false,"label":"Non Technical","permalink":"/blog/tags/blog/tags/non-technical","description":"You can find all non-technical related blogs here."}],"readingTime":2.645,"hasTruncateMarker":false,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"everyday-reflections","title":"Everyday Reflections: Life\'s Unexpected Moments","authors":["virtualabishek"],"date":"2025-04-08","description":"Personal reflections on everyday struggles in Nepal from the lens of a non-political observer.","tags":["betryed","non-technical"]},"unlisted":false,"prevItem":{"title":"From Chaos to Clarity","permalink":"/blog/breaking-down-the-problem"},"nextItem":{"title":"My Linux Journey and the Power of WSL","permalink":"/blog/linux-and-wsl-journeys"}},"content":"Hey everyone, I just want to share some random thoughts today. Here in Nepal, people who aren\u2019t interested in politicians, parties, or all that drama seem to suffer the most. I\u2019ve had so many experiences\u2014some made me feel terrible, others were good. Everything that\u2019s happened to me, I always thought it\u2019d leave a positive mark, teaching me lessons along the way.\\n\\nThere\u2019s a lot swirling in my head right now. Honestly, people who went abroad right after +2 wouldn\u2019t get what I\u2019m talking about. I think those who left after their bachelor\u2019s might understand more\u2014they\u2019ve probably seen more than I have.\\n\\nI see quarrels everywhere here. Me, I\u2019ve never been the type to fight or argue. Even when I\u2019m not wrong, I end up saying sorry just to keep the peace. Sometimes, being too polite or asking simple questions makes you feel bad. Take today, for example\u2014I was in Kathmandu for WordCamp 2025. I stopped at a local cafe and ordered a cup of tea. I didn\u2019t have small change, so I handed the guy a 500-rupee note. He said he didn\u2019t have change, which was fine\u2014I get it, maybe I was the first customer of the day. So I asked if there was a QR code to pay digitally. He said no, and I was shocked. I went to a nearby shop, bought something I didn\u2019t even need just to break the 500, and came back to pay. Then he goes, \u201cWhy should I get a QR code for this? If it was something like rice or a big meal, I\u2019d understand.\u201d Bro, who comes to your shop at 6 a.m. to eat a heavy meal? So yeah, that\u2019s just one little thing from today.\\n\\nI\u2019ve been through a lot and forgotten even more. Public transport here? Don\u2019t get me started. I\u2019ve had so many bad experiences. Whenever I travel to Kathmandu, back to Chitwan, or anywhere else, it\u2019s always a mess. I ask for a specific seat when I buy my ticket, and they tell me it\u2019s full, shoving me to the back. Later, I find out it wasn\u2019t full\u2014they just wanted to pack the back seats first. The fares? I\u2019ve been cheated so many times. They charge whatever they feel like. Once, they owed me 300 rupees in change\u2014it was even written on the ticket\u2014but they argued with me and refused to pay. During festivals, not even on the main day of Dashain, but toward the end, they double the fare. Where do I complain? How do I fix this? I just end up letting it go.\\n\\nAnd education? It\u2019s a disaster. I study at Tribhuvan University (TU), Institute of Science and Technology. I\u2019ve switched between two government colleges. I\u2019m not into politics or parties\u2014you probably know how things work there if you\u2019re not involved. The education system is a total waste, at least from my perspective. TU and its government colleges feel like a cheap certificate factory. You\u2019re on your own\u2014your browser tabs are your real teachers. I\u2019m not blaming the teachers; it\u2019s the system. Getting anything done takes forever\u2014long processes for even the smallest service.\\n\\nI\u2019m exhausted, honestly. Still, I\u2019m hoping for the best."},{"id":"linux-and-wsl-journeys","metadata":{"permalink":"/blog/linux-and-wsl-journeys","source":"@site/blog/2025-04-04-Why-WSL.md","title":"My Linux Journey and the Power of WSL","description":"Exploring Linux, distro-hopping, and how WSL changed my development workflow.","date":"2025-04-02T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."},{"inline":false,"label":"Linux","permalink":"/blog/tags/blog/tags/linux","description":"Linux-related posts and tutorials."},{"inline":false,"label":"WSL","permalink":"/blog/tags/blog/tags/wsl","description":"Posts about Windows Subsystem for Linux."},{"inline":false,"label":"Windows","permalink":"/blog/tags/blog/tags/windows","description":"Windows-related content and tips."},{"inline":false,"label":"Development","permalink":"/blog/tags/blog/tags/development","description":"Software development practices and experiences."}],"readingTime":2.825,"hasTruncateMarker":true,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"linux-and-wsl-journeys","title":"My Linux Journey and the Power of WSL","authors":["virtualabishek"],"date":"2025-04-02","description":"Exploring Linux, distro-hopping, and how WSL changed my development workflow.","tags":["technical","linux","wsl","windows","development"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"Everyday Reflections: Life\'s Unexpected Moments","permalink":"/blog/everyday-reflections"},"nextItem":{"title":"Too Much Philosophy, Not Enough Presence","permalink":"/blog/too-much-philosophy"}},"content":"## Introduction\\n\\nIf you\u2019ve ever wondered about dipping your toes into Linux without leaving the comfort of Windows, you\u2019re in good company. I\u2019m not experienced one but someone who\u2019s explored operating systems with curiosity and a bit of trial-and-error. \x3c!-- truncate --\x3e\\nIn this post, I\u2019ll walk you through my Linux journey, from my early experiments to finding Windows Subsystem for Linux (WSL). It\u2019s been quite a ride, and I hope sharing it sparks something for you.\\n\\n## My Story with Linux and WSL\\n\\nFor anyone new to the term, **Windows Subsystem for Linux (WSL)** is a feature that lets you run a Linux environment right on your Windows machine. No need for a separate virtual machine or dual-boot setup\u2014it\u2019s a seamless way to blend the best of both worlds, especially for developers.\\n\\nMy Linux adventure kicked off years ago, thanks to my brother **Acyut Dai**, who first showed me the ropes. I was hooked right away, even if I didn\u2019t fully grasp the technical side back then. One memory stands out: I went to a shop to buy a laptop and asked for **Linux Mint** instead of Windows. The salesperson was caught off guard\u2014probably not a request he got every day. That was my launchpad into the Linux world.\\n\\nWith **Linux Mint** on my laptop, I dove in, exploring its features for hours. Truth be told, I didn\u2019t have a strong grip on the basics. Over time, I bounced between **12 to 15 different Linux distributions**, chasing the next shiny thing without really mastering any of them. Looking back, I was more caught up in the excitement than in laying a solid groundwork.\\n\\nFast forward a bit, and I got access to Windows developer features, which led me to **WSL**. It was a total game-changer. Suddenly, I felt more productive, blending Linux tools into my Windows routine effortlessly. I think Windows saw how much developers were leaning toward Linux and built WSL to meet that need. It\u2019s pretty powerful\u2014think installing packages with a quick `sudo apt install` instead of wrestling with Windows-specific headaches.\\n\\nI\u2019ve never fully clicked with Windows\u2019 own command-line tools, though that\u2019s probably on me for not digging deeper. Windows is great for tons of people; WSL just smooths out certain tasks for me.\\n\\nWSL has made a huge impact for developers globally, though it\u2019s not a must-have for everyone\u2014it\u2019s all about what works for you. As a newbie blogger, I\u2019m just here to share my take. **Here\u2019s what I\u2019ve loved about WSL:**\\n\\n- **Command-Line Power**: It rekindled my appreciation for the command line\u2014super efficient and flexible.\\n- **Easy Setup**: Installing languages and packages is a breeze, cutting down on setup time.\\n- **Storage Smarts**: From what I\u2019ve seen, WSL handles storage for code and modules pretty efficiently compared to a full Linux setup (though your mileage might vary).\\n\\nThere\u2019s tons more to dig into, and I\u2019d love to hear what you think about WSL if you\u2019ve tried it!\\n\\n## Conclusion\\n\\nLooking back, WSL has become a key part of my development toolkit. It ties Windows and Linux together, letting me tap into both without the chaos of my distro-hopping phase. My Linux days taught me to **stay focused while learning**, and WSL keeps me grounded.\\n\\nIf you haven\u2019t checked it out yet, **give it a whirl!** Already a user? I\u2019d love your thoughts. Thanks for reading my first post\u2014more to come!"},{"id":"too-much-philosophy","metadata":{"permalink":"/blog/too-much-philosophy","source":"@site/blog/2025-04-2-First-Blog-Post.md","title":"Too Much Philosophy, Not Enough Presence","description":"A reflection on the balance between thinking and truly living.","date":"2025-04-02T00:00:00.000Z","tags":[{"inline":false,"label":"Philosophy","permalink":"/blog/tags/blog/tags/philosophy","description":"You can find all Philosophy related blogs here."},{"inline":false,"label":"Non Technical","permalink":"/blog/tags/blog/tags/non-technical","description":"You can find all non-technical related blogs here."}],"readingTime":2.01,"hasTruncateMarker":true,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"too-much-philosophy","title":"Too Much Philosophy, Not Enough Presence","authors":["virtualabishek"],"date":"2025-04-02","description":"A reflection on the balance between thinking and truly living.","tags":["philosophy","non-technical"]},"unlisted":false,"prevItem":{"title":"My Linux Journey and the Power of WSL","permalink":"/blog/linux-and-wsl-journeys"},"nextItem":{"title":"Hello World","permalink":"/blog/first-blog"}},"content":"Recently, I stumbled across a post on X that really hit me.\\n\\n\x3c!-- truncate --\x3e\\n\\n<blockquote className=\\"twitter-tweet\\">\\n  <p lang=\\"zxx\\" dir=\\"ltr\\">\\n    <a href=\\"https://t.co/28bsnyYSZK\\">pic.twitter.com/28bsnyYSZK</a>\\n  </p>\\n  \u2014 \u2605 (@thematrixwizard){\\" \\"}\\n  <a href=\\"https://twitter.com/thematrixwizard/status/1898988630967800312?ref_src=twsrc%5Etfw\\">\\n    March 10, 2025\\n  </a>\\n</blockquote>\\n<script async src=\\"https://platform.twitter.com/widgets.js\\" charSet=\\"utf-8\\"><\/script>\\n\\nThe caption was simple: **\\"Too much philosophy, not enough presence.\\"** And honestly, it felt so true. We spend so much of our lives chasing positivity\u2014trying to do good, be good, and hope only the best comes our way. But life doesn\u2019t always play along, does it?\\n\\nA while back, I wrote something that ties into this. It went like this:\\n\\n> \\"These days, the internet is full of inspirational sayings, movies, and postings. However, what matters most is how much you use them in your life, regardless of how much you read or watch. Nothing is permanent, not even your beliefs, driving forces, or favorite quotations. Maybe you only remember them when you\'re in a good mood. When you\'re feeling down or unhappy, I\'m sure you lose sight of your motivation.\\"\\n\\nYou can read more of my ramblings here: [abishekn.com.np/perspective](https://abishekn.com.np/perspective).\\n\\nHere\u2019s the thing: all this hustling we do\u2014working hard for a nice house, a fancy car, or to get better at something\u2014it\u2019s really about **presence**. People always say, _\u201cDon\u2019t dwell on the past, it\u2019ll hurt you.\u201d_ Fair enough. But I\u2019d argue looking too far into the future can mess up your **now** just as much. Every second you spend distracted or lost? It\u2019s gone forever. You don\u2019t get it back.\\n\\nSo, what I\u2019m getting at is this: **focus on the moment**. Enjoy the process. I\u2019m convinced that\u2019s where real joy and happiness hide. Think about it\u2014you forget where you left your keys, you miss an important moment because you\u2019re zoned out, or you finally get something you\u2019ve always wanted and feel that rush of pride. But do you remember how hard you worked for it? Probably not. Success has a way of wiping the slate clean. Then, boom, new desires pop up, and the cycle starts again.\\n\\nThat\u2019s life, right? An endless loop of wanting, chasing, and forgetting. We all know this deep down\u2014it\u2019s nothing groundbreaking. But living it? Actually **staying present**? That\u2019s the tricky part.\\n\\nI\u2019ll be real with you\u2014I\u2019m not even sure where I\u2019m going with this. It\u2019s just a stream of thoughts, typed out for fun. Hope you enjoyed it, though! Thanks for reading, and catch you in the next one."},{"id":"first-blog","metadata":{"permalink":"/blog/first-blog","source":"@site/blog/2024-04-03-first-blog.md","title":"Hello World","description":"Hello! This is my first blog post.","date":"2024-04-03T00:00:00.000Z","tags":[{"inline":false,"label":"Technical","permalink":"/blog/tags/blog/tags/technical","description":"You can find all technical related blogs here."}],"readingTime":0.07,"hasTruncateMarker":true,"authors":[{"name":"Abishek Neupane","title":"Self Learner","url":"https://github.com/virtualabishek","page":{"permalink":"/blog/authors/virtualabishek"},"socials":{"github":"https://github.com/virtualabishek","linkedin":"https://www.linkedin.com/in/virtualabishek/","twitter":"https://twitter.com/virtualabishek"},"imageURL":"https://github.com/virtualabishek.png","key":"virtualabishek"}],"frontMatter":{"slug":"first-blog","title":"Hello World","authors":["virtualabishek"],"tags":["technical"]},"unlisted":false,"prevItem":{"title":"Too Much Philosophy, Not Enough Presence","permalink":"/blog/too-much-philosophy"}},"content":"Hello! This is my first blog post.\\n\\n\x3c!-- truncate --\x3e\\n\\nMore content goes here..."}]}}')}}]);